{"version":3,"file":"src_app_components_orders_order_module_ts.js","mappings":"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","sources":["./src/app/components/orders/core/index.ts","./src/app/components/orders/core/services/index.ts","./src/app/components/orders/core/services/order.service.ts","./src/app/components/orders/create.component.ts","./src/app/components/orders/detail.component.ts","./src/app/components/orders/list.component.ts","./src/app/components/orders/order.module.ts","./src/app/components/orders/views/product-filter-modal.component.ts","./src/app/components/orders/views/products-form-detail.component.ts","./src/app/components/orders/views/step-info-form.component.ts","./src/app/components/orders/views/step-products-form.component.ts","./src/app/components/orders/views/view.module.ts","./src/app/components/orders/create.component.html","./src/app/components/orders/detail.component.html","./src/app/components/orders/list.component.html","./src/app/components/orders/views/product-filter-modal.component.html","./src/app/components/orders/views/products-form-detail.component.html","./src/app/components/orders/views/step-info-form.component.html","./src/app/components/orders/views/step-products-form.component.html"],"sourcesContent":["export * from './services';","export * from './order.service';","import { Injectable } from '@angular/core';\r\nimport { VoucherInfo } from 'src/app/models/voucher';\r\nimport { ApiService } from 'src/app/shared/services';\r\nimport {enuEdit} from '../../../../helpers';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n\r\n  private urlSegement = {   \r\n    SaveSO : \"/Order/SaveSO\",\r\n    GetDMTHUE : \"/Order/GetDMTHUE\",\r\n    GetVtByCode : \"/Order/GetVtByCode\",\r\n    GetListNhanVienBoPhan : \"/Order/GetListNhanVienBoPhan\",\r\n    GetlistMa_Sp : \"/Order/GetlistMa_Sp\",\r\n    GetListProductForSale : \"/Order/GetListProductForSale\",\r\n  }\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n  ) { }\r\n\r\n  async SaveSO(voucher: VoucherInfo, enuEdit: enuEdit): Promise<any> {\r\n    const body = {\r\n      voucher: voucher,\r\n      enuEdit: enuEdit,\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.SaveSO, body);\r\n    return res;\r\n  }\r\n\r\n  async GetDMTHUE(type: number): Promise<any> {\r\n    const body = {\r\n      type\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.GetDMTHUE, body);\r\n    return res;\r\n  }\r\n\r\n  async GetVtByCode(filterParams: any): Promise<any> {\r\n    const body = {\r\n      filterParams\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.GetVtByCode, body);\r\n    return res;\r\n  }\r\n\r\n  async GetListNhanVienBoPhan(): Promise<any> {\r\n    const body = {\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.GetListNhanVienBoPhan, body);\r\n    return res;\r\n  }\r\n\r\n  async GetlistMa_Sp(): Promise<any> {\r\n    const body = {\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.GetlistMa_Sp, body);\r\n    return res;\r\n  }\r\n\r\n  async GetListProductForSale(filterParams: any): Promise<any> {\r\n    const body = {\r\n      filterParams\r\n    };\r\n    const res = await this.apiService.post(this.urlSegement.GetListProductForSale, body);\r\n    return res;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CommandType, enuEdit } from 'src/app/helpers';\r\nimport { VoucherHelperService, VoucherInfo } from 'src/app/models/voucher';\r\nimport { UtilityService } from 'src/app/shared/utility.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport {\r\n  DataToolService,\r\n  IdentityService,\r\n  SQLExecService,\r\n  VoucherService,\r\n} from '../../shared/services';\r\nimport * as moment from 'moment';\r\nimport { ApiParameter } from 'src/app/shared/api-params';\r\nimport * as _ from 'lodash';\r\nimport { MatStepper } from '@angular/material/stepper';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { StepperSelectionEvent } from '@angular/cdk/stepper';\r\nimport { OrderService } from './core';\r\n\r\n@Component({\r\n  selector: 'app-imports-create',\r\n  templateUrl: './create.component.html',\r\n  styleUrls: ['./create.component.scss'],\r\n})\r\nexport class CreateComponent implements OnInit, OnDestroy {\r\n  strTitle: string = 'Tạo mới';\r\n  today: any = new Date();\r\n  apiParams: ApiParameter = new ApiParameter();\r\n\r\n  linner: boolean = true;\r\n  submitting: boolean = false;\r\n  enuEdit: enuEdit = enuEdit.New;\r\n  stt: string;\r\n  strMaCt: string;\r\n  strMa_Ct_Convert: string;\r\n\r\n  listMa_Thue: any[];\r\n\r\n  is_VAT: boolean = false;\r\n  @ViewChild('stepper') public myStepper: MatStepper;\r\n\r\n  currencyMask: any = {\r\n    align: 'right',\r\n    allowNegative: true,\r\n    allowZero: true,\r\n    decimal: ',',\r\n    precision: 0,\r\n    prefix: '',\r\n    suffix: '',\r\n    thousands: '.',\r\n    nullable: false,\r\n  };\r\n\r\n  model: VoucherInfo = new VoucherInfo();\r\n\r\n  constructor(\r\n    private voucherHelperService: VoucherHelperService,\r\n    private identityService: IdentityService,\r\n    private voucherService: VoucherService,\r\n    private orderService: OrderService,\r\n    private modalController: ModalController,\r\n    private utilityService: UtilityService,\r\n\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private sqlService: SQLExecService\r\n  ) { }\r\n\r\n  ngOnDestroy(): void { }\r\n\r\n  ionViewDidLeave() {\r\n    this.myStepper.selectedIndex = 0;\r\n    this.enuEdit = enuEdit.New;\r\n    this.model = new VoucherInfo();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.stt = params['stt'];\r\n      this.enuEdit = Number(params['enuEdit']);\r\n\r\n      if (this.enuEdit != enuEdit.Convert) this.strMa_Ct_Convert = this.strMaCt;\r\n      else this.strMa_Ct_Convert = params['maCt_Convert'];\r\n    });\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.get_listDMTHUE();\r\n\r\n    if (this.enuEdit == enuEdit.Edit) this.strTitle = 'Sửa phiếu';\r\n\r\n    if (this.enuEdit != enuEdit.New)\r\n      setTimeout(() => {\r\n        this.getVoucher().finally();\r\n      }, 20);\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  async getVoucher() {\r\n    const res = await this.voucherService.getVoucher(\r\n      this.stt,\r\n      this.enuEdit == enuEdit.Edit ? this.strMaCt : this.strMa_Ct_Convert\r\n    );\r\n\r\n    if (this.enuEdit == enuEdit.Convert) {\r\n      Object.assign(res.table[0], {\r\n        so_Ct: '',\r\n      });\r\n    }\r\n\r\n    this.model = Object.assign({}, this.model, {\r\n      header: Object.assign(this.model.header, res?.table[0]),\r\n      detail: res?.table1 ?? [],\r\n    });\r\n  }\r\n\r\n  private async get_listDMTHUE() {\r\n    const res = await this.orderService.GetDMTHUE(2);\r\n    this.listMa_Thue = res;\r\n  }\r\n\r\n  async onSubmit() {\r\n    this.submitting = true;\r\n    const voucher: VoucherInfo = Object.assign(this.model, {\r\n      header: Object.assign(this.model.header, {\r\n        ngay_Ct: moment(this.model.header.ngay_Ct).format('YYYY-MM-DD'),\r\n        MA_CT: this.strMa_Ct_Convert,\r\n        STT: this.enuEdit != enuEdit.Edit ? '' : this.model.header.STT,\r\n      }),\r\n    });\r\n\r\n    const res = await this.orderService\r\n      .SaveSO(voucher, this.enuEdit)\r\n      .finally(() => (this.submitting = false));\r\n\r\n    if (res) {\r\n      this.utilityService.showToast('Lưu thành công');\r\n      this.router.navigateByUrl(\r\n        'components/order/detail/' + res + '/' + this.strMa_Ct_Convert\r\n      );\r\n    }\r\n  }\r\n\r\n  resetInfo() {\r\n    this.model.header = Object.create(null);\r\n  }\r\n\r\n  FormCheckValid() {\r\n    return false;\r\n  }\r\n\r\n  stepperClicked(stepper: MatStepper) {\r\n    stepper.next();\r\n  }\r\n\r\n  selectStepByIndex(index: number): void {\r\n    if (index == 2 && this.model.header.chiet_Khau>0) {\r\n      this.chiet_Khau_Change();\r\n    }\r\n    // if ((index = 2)) {// ???\r\n    //   this.chiet_Khau_Change();\r\n    // }\r\n  }\r\n\r\n  chiet_Khau_Change(event: any =0) {\r\n    if (this.model.header.chiet_Khau > 100 || this.model.header.chiet_Khau < 0)\r\n      this.model.header.chiet_Khau = 0;\r\n    this.model.header.tTien4 = (this.model.header.tTien_Hang * this.model.header.chiet_Khau) / 100;\r\n    this.ma_Thue_Change();\r\n  }\r\n\r\n  ttien4_Change(event: any =0) {\r\n    if (this.model.header.tTien4 > this.model.header.tTien_Hang)\r\n      this.model.header.tTien4 = 0;\r\n\r\n    this.model.header.chiet_Khau = (this.model.header.tTien4 * 100) / this.model.header.tTien_Hang;\r\n    this.ma_Thue_Change();\r\n\r\n  }\r\n\r\n  ma_Thue_Change() {\r\n    this.voucherHelperService.sum_TTienHang(this.model);\r\n    const res = this.listMa_Thue.find(\r\n      (x) => x.ma_Thue === this.model.header.ma_Thue\r\n    );\r\n    if (res) {\r\n      this.model.header.thue_GtGt = res.thue_Suat;\r\n      this.model.header.tTien3 =\r\n        (this.model.header.tTien_Hang - this.model.header.tTien4) *\r\n        (this.model.header.thue_GtGt / 100);\r\n\r\n      if (res.gia_Thue == \"1\")\r\n        this.model.header.tTien_Hang = this.model.header.tTien_Hang - this.model.header.tTien3;\r\n    } else {\r\n      this.model.header.ma_Thue = '';\r\n      this.model.header.thue_GtGt = 0;\r\n    }\r\n    this.voucherHelperService.updatePayments(this.model);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AppConfig, enuEdit } from 'src/app/helpers';\r\nimport { VoucherInfo } from 'src/app/models/voucher';\r\nimport { VoucherService } from 'src/app/shared/services';\r\nimport { aspPermission } from './../../shared/services/asp-permissions.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss'],\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  perm: aspPermission = Object.create(null);\r\n  routeLink: string = \"\";\r\n  strMaCt: string;\r\n  stt: string;\r\n\r\n  info = new VoucherInfo;\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private voucherService: VoucherService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n  ) {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n    this.stt = this.route.snapshot.params.stt;\r\n        \r\n    route.data.subscribe((data) => {\r\n      return this.perm = data[AppConfig.PERM_RESOLVER_KEY];\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n    setTimeout(() => {\r\n      this.getVoucher().finally();\r\n    }, 10);\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getVoucher();\r\n  }\r\n\r\n  async getVoucher() {\r\n    this.loading = true;\r\n    const res = await this.voucherService.getVoucher(this.stt, this.strMaCt).finally(() => this.loading = false);\r\n    this.info = new VoucherInfo(res?.table[0], res?.table1);\r\n    \r\n  }\r\n\r\n  public edit(isConvert: string) {\r\n    this.routeLink = \"components/order/create/\" + this.strMaCt;\r\n        this.router.navigate([this.routeLink],{queryParams:{stt: this.stt, maCt_Convert: this.strMaCt, enuEdit: enuEdit.Edit} });\r\n  }\r\n\r\n}\r\n","import { Component, Inject, OnInit, Optional } from \"@angular/core\";\r\n\r\nimport { enuEdit , AppConfig} from \"../../helpers\";\r\nimport { UtilityService } from \"../../shared/utility.service\";\r\n\r\nimport {\r\n  VoucherService,\r\n} from \"../../shared/services\";\r\nimport { ApiParameter } from \"src/app/shared/api-params\";\r\nimport { AlertController, ModalController } from \"@ionic/angular\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { IdentityService } from \"../../shared/services\";\r\nimport * as moment from \"moment\";\r\n\r\nimport { HttpEventType } from \"@angular/common/http\";\r\nimport { FileViewedModalComponent } from \"src/app/layout\";\r\nimport { aspPermission, aspPermissionsService } from './../../shared/services/asp-permissions.service';\r\nimport {\r\n  Capacitor\r\n} from '@capacitor/core';\r\n\r\n@Component({\r\n  selector: \"app-order-list\",\r\n  templateUrl: \"./list.component.html\",\r\n  styleUrls: [\"./list.component.scss\"],\r\n})\r\nexport class ListComponent implements OnInit {\r\n  filterModel: FilterModel = {\r\n    ngay_Ct1: moment().startOf(\"month\").format(\"YYYY-MM-DD\"),\r\n    ngay_Ct2: moment().format(\"YYYY-MM-DD\"),\r\n    top: 10,\r\n  };\r\n\r\n  isNativePlatform: boolean = true;\r\n  platformStr: string = 'web';\r\n\r\n  perm: aspPermission = Object.create(null);\r\n  // perm_duyet: aspPermission = Object.create(null);\r\n  //perm_duyet: any = Object.create(null);\r\n  perm_duyet :aspPermission = Object.create(null);;\r\n  strMaCt: string;\r\n  strMa_Ct_Convert: string;\r\n  currentMaDvCs: any;\r\n  apiParams: ApiParameter = new ApiParameter();\r\n  totalCount: number = 0;\r\n  dteNgay_Ct1: any;\r\n  dteNgay_Ct2: any;\r\n  selectTrang_Thai: string = \"\";\r\n  skeletons: any = [];\r\n  loading: boolean = true;\r\n  data: any[];\r\n  searchTerm: string = \"\";\r\n  routeLink: string = \"\";\r\n\r\n  today: any = new Date();\r\n\r\n  title: any = {\r\n    SO: \"Đơn đặt hàng\",\r\n  };\r\n\r\n  constructor(\r\n    private voucherService: VoucherService,\r\n    private alertController: AlertController,\r\n    private modalController: ModalController,\r\n    private identityService: IdentityService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private utilityService: UtilityService,\r\n    private permissionsService: aspPermissionsService\r\n  ) {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n    this.strMa_Ct_Convert = this.route.snapshot.params.maCt_Convert;\r\n\r\n    route.data.subscribe((data) => {\r\n      this.perm = data[AppConfig.PERM_RESOLVER_KEY];\r\n    });\r\n    \r\n    this.permissionsService.GetPermission('duyet').then(res => this.perm_duyet = res);\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ionViewWillEnter() {\r\n    setTimeout(() => {\r\n      this.getList();\r\n    }, 1);\r\n    this.platformStr = Capacitor.getPlatform();\r\n    this.isNativePlatform = Capacitor.isNativePlatform();\r\n  }\r\n\r\n  async getList(isLoading: boolean = true) {\r\n    this.loading = isLoading;\r\n    const filterParams = {\r\n      STATUS: this.selectTrang_Thai,\r\n      KEYWORD: this.searchTerm,\r\n      Ma_Ct: this.strMaCt,\r\n      Ngay_Ct1: this.filterModel.ngay_Ct1 || moment().startOf('month'),\r\n      Ngay_Ct2: this.filterModel.ngay_Ct2 || moment(),\r\n      TOP: this.filterModel.top,\r\n      MA_DVCS: this.identityService.getStrCurrentMaDvCs(),\r\n    };\r\n    const res = await this.voucherService.GetListVoucher(filterParams).finally(() => (this.loading = false));\r\n    this.data = res || [];\r\n    this.totalCount = res[0]?.[\"totalCount\"] || 0;\r\n  }\r\n\r\n  dateChange() {\r\n    if (!this.utilityService.hasValue(this.dteNgay_Ct2)) return;\r\n\r\n    this.getList();\r\n  }\r\n\r\n  gotoDetail(stt: string) { }\r\n\r\n  loadMoreData(event, refresh: boolean = false) {\r\n    // this.filterModel.top = !refresh ? this.filterModel.top + 5 : this.filterModel.top;\r\n    this.filterModel.top = this.filterModel.top + 5;\r\n\r\n    setTimeout(async () => {\r\n      this.getList(refresh).finally(() => {\r\n        event.target.complete();\r\n        if (!refresh)\r\n          event.target.disabled = this.filterModel.top >= this.totalCount;\r\n      });\r\n    }, 100);\r\n  }\r\n\r\n  async confirm(item: any, Is_duyet: boolean) {\r\n    const alert = await this.alertController.create({\r\n      header: \"Thông báo!\",\r\n      message: Is_duyet ? \"Duyệt\" : \"Bõ duyệt\",\r\n      buttons: [\r\n        {\r\n          text: \"Huỷ bỏ\",\r\n          role: \"cancel\",\r\n          handler: (blah) => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Xác nhận\",\r\n          handler: async () => {\r\n            const filterParams = {\r\n              STT: item.stt,\r\n              MA_CT: this.strMaCt,\r\n              DUYET: Is_duyet,\r\n            };\r\n            const check = await this.voucherService.DuyetVoucher(filterParams);\r\n            if (check) this.utilityService.showAlert(\"Thay đổi thành công\");\r\n\r\n            setTimeout(() => {\r\n              this.getList();\r\n            }, 1);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async delete(item: any) {\r\n    const alert = await this.alertController.create({\r\n      header: \"Thông báo!\",\r\n      message: \"Xoá chứng từ\",\r\n      buttons: [\r\n        {\r\n          text: \"Huỷ bỏ\",\r\n          role: \"cancel\",\r\n          handler: (blah) => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Xác nhận\",\r\n          handler: async () => {\r\n            const check = await this.voucherService.SQLDeleteCt(\r\n              item.stt,\r\n              this.strMaCt\r\n            );\r\n            if (check) this.utilityService.showAlert(\"Xoá thành công\");\r\n\r\n            setTimeout(() => {\r\n              this.getList();\r\n            }, 1);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async view_edit(item: any) {\r\n    if (item)\r\n      this.router.navigateByUrl(\r\n        \"components/order/detail/\" + item.stt + \"/\" + this.strMaCt\r\n      );\r\n  }\r\n\r\n  async edit(item: any, _enuEdit: enuEdit) {\r\n\r\n    if (item) {\r\n      this.routeLink = \"components/order/create/\" + this.strMaCt;\r\n      if (_enuEdit == enuEdit.New)\r\n        this.router.navigate([this.routeLink], { queryParams: { enuEdit: _enuEdit } });\r\n      else\r\n        this.router.navigate([this.routeLink], { queryParams: { stt: item.stt, maCt_Convert: this.strMa_Ct_Convert, enuEdit: _enuEdit } });\r\n    }\r\n  }\r\n\r\n  async exportPDF(_item: any) {\r\n    if (!_item) return;\r\n    const item: any = {};\r\n    item.stt = _item.stt;\r\n    item.ma_Ct = this.strMaCt;\r\n    item.report_File = \"rpt_CT_PN\";\r\n\r\n    this.voucherService.DowloadPDF_Blod(item).subscribe((event) => {\r\n      if (event) {\r\n        switch (event.type) {\r\n          case HttpEventType.DownloadProgress:\r\n            break;\r\n          case HttpEventType.Response:\r\n            const blob = new Blob([event.body as BlobPart], {\r\n              type: event.body?.type,\r\n            });\r\n            const url = URL.createObjectURL(blob);\r\n            this.openFileModal(url);\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private async openFileModal(url: any) {\r\n\r\n    const modal = await this.modalController.create({\r\n      component: FileViewedModalComponent,\r\n      componentProps: {\r\n        url: url,\r\n      },\r\n    });\r\n    modal.onDidDismiss().then((dataReturned) => { });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  openModalFilter() { }\r\n\r\n  trackBy(index: number, item: any) {\r\n    return item?.stt ?? index;\r\n  }\r\n}\r\n\r\ninterface FilterModel {\r\n  ngay_Ct1: any;\r\n  ngay_Ct2: any;\r\n  top?: number;\r\n  keyword?: string;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../shared.module';\r\nimport { ViewModule } from './views/view.module';\r\nimport { BaseModule } from '../base/base.module';\r\nimport { ListComponent } from './list.component';\r\nimport { CreateComponent } from './create.component';\r\nimport { DetailComponent } from './detail.component';\r\n\r\nconst routing: ModuleWithProviders<OrderModule> = RouterModule.forChild([\r\n  {\r\n    path: 'list/:maCt',\r\n    component: ListComponent,\r\n  },\r\n  {\r\n    path: 'create/:maCt',\r\n    component: CreateComponent,\r\n  },\r\n  {\r\n    path: 'detail/:stt/:maCt',\r\n    component: DetailComponent,\r\n  }\r\n]);\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ListComponent,\r\n    CreateComponent,\r\n    DetailComponent\r\n  ],\r\n  imports: [\r\n    BaseModule,\r\n    SharedModule,\r\n    ViewModule,\r\n    routing\r\n  ]\r\n})\r\nexport class OrderModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CommandType } from 'src/app/helpers';\r\nimport { ApiParameter } from 'src/app/shared/api-params';\r\nimport { SQLExecService } from 'src/app/shared/services';\r\nimport { OrderService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-product-filter-modal',\r\n  templateUrl: './product-filter-modal.component.html',\r\n  styleUrls: ['./product-filter-modal.component.scss'],\r\n})\r\nexport class ProductFilterModalComponent implements OnInit {\r\n\r\n  products: any[];\r\n  searchTerm: string;\r\n  top: number = 30;\r\n\r\n  radioModel: string;\r\n  model: any;\r\n  apiParams: ApiParameter = new ApiParameter();\r\n\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private orderService: OrderService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.filterProducts();\r\n   }\r\n\r\n  async filterProducts() {\r\n    this.loading = true;\r\n    const filterParams = {\r\n      KEYWORD: this.searchTerm,\r\n      TOP: this.top\r\n    };\r\n    this.apiParams.cmdType = CommandType.StoredProcedure;\r\n    const res = await this.orderService.GetListProductForSale(filterParams).finally(() => this.loading = false);\r\n    this.products = res;\r\n  }\r\n\r\n  async onChangeRadio(item) {\r\n    if (item) {\r\n      item.stt0 = new Date().valueOf().toString();\r\n    }\r\n    if (item) {\r\n      await this.modalController.dismiss(item)\r\n    } else await this.modalController.dismiss(null);\r\n  }\r\n\r\n  async closeModal(ok: boolean = false) {\r\n\r\n    await this.modalController.dismiss(null);\r\n  }\r\n\r\n  loadMoreData(event) {\r\n    setTimeout(async () => {\r\n      this.top = this.top + 10;\r\n      await this.filterProducts();\r\n      event.target.complete();\r\n      const _total = (this.products && this.products.length > 0) ? this.products[0].totalCount : 0;\r\n      event.target.disabled = (this.top >= _total);\r\n    }, 50);\r\n  }\r\n\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  ViewChild,\r\n  OnChanges,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { ModalController, NavParams, AlertController } from \"@ionic/angular\";\r\nimport * as moment from \"moment\";\r\nimport { CommandType, enuEdit } from \"src/app/helpers\";\r\nimport { ApiParameter } from \"src/app/shared/api-params\";\r\nimport { IdentityService, SQLExecService, VoucherService } from \"src/app/shared/services\";\r\nimport { ProductFilterModalComponent } from \"../../base\";\r\nimport { OrderService } from \"../core\";\r\n\r\n@Component({\r\n  selector: \"app-products-form-detail\",\r\n  templateUrl: \"./products-form-detail.component.html\",\r\n  styleUrls: [\"./products-form-detail.component.scss\"],\r\n})\r\nexport class ProductsFormDetailComponent implements OnInit {\r\n  @Input() model: any = {};\r\n  @Output() modelChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  apiParams: ApiParameter = new ApiParameter();\r\n  submitting: boolean = false;\r\n  strMa_DvCs!: string;\r\n  enuEdit: enuEdit = enuEdit.New;\r\n  strMaCt: string = \"\";\r\n  strMa_Ct_Convert: string;\r\n  strSoCt: string = \"\";\r\n  \r\n\r\n  constructor(\r\n    private identityService: IdentityService,\r\n    private navParams: NavParams,\r\n    private route: ActivatedRoute,\r\n    private modalController: ModalController,\r\n    private orderService: OrderService,\r\n    private voucherService: VoucherService,\r\n  ) {\r\n    this.model = navParams.get(\"itemProduct\");\r\n\r\n    this.strMaCt = navParams.get(\"strMaCt\");\r\n    this.enuEdit = navParams.get(\"enuEdit\");\r\n    this.strMa_Ct_Convert = navParams.get(\"strMa_Ct_Convert\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.strMa_DvCs = this.identityService.getStrCurrentMaDvCs();\r\n\r\n    setTimeout(() => {\r\n      if([\"PX\",\"XP\"].includes(this.strMa_Ct_Convert))\r\n        this.GetListMa_Lo();\r\n      this.GetlistMa_Sp();\r\n    }, 10);\r\n\r\n    if (this.model.ma_Lo) {\r\n      this.listMa_Lo[0] = {\r\n        ma_Lo: this.model.ma_Lo,\r\n      };\r\n    }\r\n\r\n    if (this.model.ma_Sp) {\r\n      this.listMa_Sp[0] = {\r\n        ma_Sp: this.model.ma_Sp,\r\n      };\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this.modelChange.emit(this.model);\r\n  }\r\n\r\n  async closeModal(ok: boolean = false) {\r\n    Object.assign(this.model,{\r\n      han_Sd : moment(this.model.han_Sd).format(\"YYYY-MM-DD\"),\r\n      ma_Lo: this.model.ma_Lo\r\n    })\r\n    \r\n    await this.modalController.dismiss(this.model);\r\n  }\r\n\r\n  clearMa_Lo(ev: any) {\r\n    ev.stopPropagation();\r\n    delete this.model.ma_Lo;\r\n    this.modelChange.emit(this.model);\r\n  }\r\n  clearMa_Sp(ev: any) {\r\n    ev.stopPropagation();\r\n    delete this.model.ma_Sp;\r\n    this.modelChange.emit(this.model);\r\n  }\r\n\r\n  listMa_Lo: any[] = [];\r\n  async GetListMa_Lo() {\r\n    const filterParams = {\r\n      Ngay_Ct: new Date(),\r\n      Ma_Kho: this.model.ma_Kho,\r\n      Ma_Vt: this.model.ma_Vt,\r\n      Stt: this.model.stt,\r\n      Ma_DvCs: this.strMa_DvCs,\r\n    };\r\n    const res = await this.voucherService.GetListMa_Lo(filterParams);\r\n    this.listMa_Lo = res;\r\n  }\r\n\r\n  listMa_Sp: any[] = [];\r\n  async GetlistMa_Sp() {\r\n    const res = await this.orderService.GetlistMa_Sp();\r\n    this.listMa_Sp = res;\r\n  }\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport { ControlContainer, NgForm } from \"@angular/forms\";\r\nimport { ModalController } from \"@ionic/angular\";\r\nimport { CommandType, enuEdit } from \"src/app/helpers\";\r\nimport { ApiParameter } from \"src/app/shared/api-params\";\r\nimport { IdentityService, SQLExecService, UserService } from \"src/app/shared/services\";\r\nimport { UtilityService } from \"src/app/shared/utility.service\";\r\nimport { CustomerFilterModalComponent } from \"../../base\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport * as moment from \"moment\";\r\nimport { VoucherInfo } from \"src/app/models/voucher\";\r\nimport { OrderService } from \"../core\";\r\n\r\n@Component({\r\n  selector: \"app-voucher-step-info-form\",\r\n  templateUrl: \"./step-info-form.component.html\",\r\n  styleUrls: [\"./step-info-form.component.scss\"],\r\n  viewProviders: [{ provide: ControlContainer, useExisting: NgForm }],\r\n})\r\nexport class StepInfoFormComponent implements OnInit, AfterContentChecked {\r\n  @Input() model!: VoucherInfo;\r\n  @Output() modelChange: EventEmitter<VoucherInfo> =\r\n    new EventEmitter<VoucherInfo>();\r\n\r\n  today: any = new Date();\r\n  \r\n  employee: any = {};\r\n  customer: any = {};\r\n  inventories: any[] = [];\r\n  listEmployees: any[] = [];\r\n  listDepartment: any[] = [];\r\n  listLoaiNhapXuat: any[] = [];\r\n  listSO: any[] = [];\r\n  listLSX: any[] = [];\r\n  listKHSX: any[] = [];\r\n  strMaCt: string = \"\";\r\n  strMa_Ct_Convert: string;\r\n  strSoCt: string = \"\";\r\n  strMa_DvCs: string = \"\";\r\n  enuEdit: enuEdit = enuEdit.New;\r\n\r\n  constructor(\r\n    private identityService: IdentityService,\r\n    private userService: UserService,\r\n    private orderService: OrderService,\r\n    private utilityService: UtilityService,\r\n    private route: ActivatedRoute,\r\n    public modalController: ModalController\r\n  ) {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n    this.enuEdit = Number(this.route.snapshot.queryParamMap.get(\"enuEdit\"));\r\n\r\n    if (this.enuEdit != enuEdit.Convert) \r\n      this.strMa_Ct_Convert = this.strMaCt;\r\n    else\r\n      this.strMa_Ct_Convert = this.route.snapshot.queryParamMap.get(\"maCt_Convert\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getInfoUser().finally();\r\n    this.get_list().finally();\r\n  }\r\n\r\n  async openFilterCustomersModal() {\r\n    await this.utilityService.showLoader();\r\n    const modal = await this.modalController.create({\r\n      component: CustomerFilterModalComponent,\r\n    });\r\n\r\n    \r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        this.customer = dataReturned.data;\r\n        this.model = Object.assign(this.model, {\r\n          header: Object.assign(this.model.header, {\r\n            ma_Dt: dataReturned.data?.ma_Dt,\r\n            ten_Dt: dataReturned.data?.ten_Dt,\r\n            so_Phone: dataReturned.data?.so_Phone,\r\n            dia_Chi: dataReturned.data?.dia_Chi,\r\n            email: dataReturned.data?.email,\r\n            \r\n          }),\r\n        });\r\n      }\r\n    });\r\n    return await modal\r\n      .present()\r\n      .finally(() => this.utilityService.hideLoader());\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this.modelChange.emit(this.model);\r\n  } \r\n\r\n  clearCus(ev: any) {\r\n    ev.stopPropagation();\r\n    this.model = Object.assign(this.model, {\r\n      header: Object.assign(this.model.header, {\r\n        ma_Dt: \"\",\r\n        ten_Dt: \"\",\r\n        ma_CbNv: \"\",\r\n        ma_Bp: \"\",\r\n        so_Phone: \"\",\r\n        dia_Chi: \"\",\r\n        dien_Giai: \"\",\r\n      }),\r\n    });\r\n  }\r\n\r\n  private async get_list() {\r\n    const res = await this.orderService.GetListNhanVienBoPhan();\r\n    this.listEmployees = res.table;\r\n    this.listDepartment = res.table1;\r\n    this.strMa_DvCs = this.identityService.getStrCurrentMaDvCs();\r\n\r\n    if (this.enuEdit != enuEdit.Edit && this.model) {\r\n      this.model = Object.assign(this.model, {\r\n        header: Object.assign(this.model.header, {\r\n          ma_CbNv: this.employee.ma_CbNv,\r\n          ma_Bp: this.employee.ma_Bp,\r\n          ma_DvCs: this.strMa_DvCs,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n  async getInfoUser() {\r\n    const res = await this.userService.GetInfoUser();\r\n    this.employee = res[0];\r\n  }\r\n  \r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n} from \"@angular/core\";\r\nimport { ModalController, NavParams, AlertController } from \"@ionic/angular\";\r\n\r\nimport { UtilityService } from \"../../../shared/utility.service\";\r\n\r\nimport { ControlContainer, NgForm } from \"@angular/forms\";\r\nimport { ProductFilterModalComponent } from \"./product-filter-modal.component\";\r\n\r\nimport * as _ from \"lodash\";\r\n\r\nimport { BarcodeScanner,BarcodeScannerOptions } from '@awesome-cordova-plugins/barcode-scanner/ngx';\r\n\r\nimport { ApiParameter } from \"src/app/shared/api-params\";\r\nimport { CommandType, enuEdit } from \"src/app/helpers\";\r\nimport { IdentityService, SQLExecService } from \"src/app/shared/services\";\r\nimport { ProductsFormDetailComponent } from \"./products-form-detail.component\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { VoucherHelperService, VoucherInfo } from \"src/app/models/voucher\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { OrderService } from \"../core\";\r\n\r\n@Component({\r\n  selector: \"app-voucher-step-products-form\",\r\n  templateUrl: \"./step-products-form.component.html\",\r\n  styleUrls: [\"./step-products-form.component.scss\"],\r\n})\r\nexport class StepProductsFormComponent implements OnInit {\r\n  // @Input() modelSubject: BehaviorSubject<VoucherInfo> = new BehaviorSubject(null);\r\n\r\n  @Input() model!: VoucherInfo;\r\n  @Output() modelChange: EventEmitter<VoucherInfo> =\r\n    new EventEmitter<VoucherInfo>();\r\n\r\n  searchTerm: string = \"\";\r\n\r\n  barcodeScannerOptions: BarcodeScannerOptions;\r\n  strMa_DvCs!: string;\r\n  enuEdit: enuEdit = enuEdit.New;\r\n  strMaCt: string = \"\";\r\n  strMa_Ct_Convert: string;\r\n\r\n  constructor(\r\n    private voucherHelperService: VoucherHelperService,\r\n    private _utilityService: UtilityService,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n    private route: ActivatedRoute,\r\n    private identityService: IdentityService,\r\n    private orderService: OrderService\r\n  ) {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n    this.enuEdit = Number(this.route.snapshot.queryParamMap.get(\"enuEdit\"));\r\n\r\n    if (this.enuEdit != enuEdit.Convert) this.strMa_Ct_Convert = this.strMaCt;\r\n    else\r\n      this.strMa_Ct_Convert =\r\n        this.route.snapshot.queryParamMap.get(\"maCt_Convert\");\r\n    this.barcodeScannerOptions = {\r\n      prompt: \"\",\r\n      showTorchButton: true,\r\n      showFlipCameraButton: true,\r\n      //torchOn: true,\r\n      resultDisplayDuration: 1,\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.strMa_DvCs = this.identityService.getStrCurrentMaDvCs();\r\n  }\r\n\r\n  async openFilterProductsModal() {\r\n    const modal = await this.modalController.create({\r\n      component: ProductFilterModalComponent,\r\n    });\r\n\r\n    modal.onDidDismiss().then(async (dataReturned) => {\r\n      if (dataReturned.data) {\r\n        this.productModelSet(dataReturned.data);\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  productScanner() {\r\n    this.barcodeScanner\r\n      .scan(this.barcodeScannerOptions)\r\n      .then((data) => {\r\n        //this.productScannedData = data;\r\n        if (data.cancelled) {\r\n          console.log(\"User cancelled the action!\");\r\n          return false;\r\n        } else if (data.text && data.text != \"\")\r\n          this.getProductByQRCode(data.text);\r\n      })\r\n      .catch((err) => {\r\n        this._utilityService.showToast(JSON.stringify(err));\r\n      });\r\n  }\r\n\r\n  async getProductByQRCode(qrCode: string) {\r\n    let paraList;\r\n    if (qrCode.includes(\"{\")) {\r\n      let result = JSON.parse(qrCode);\r\n      paraList = {\r\n        MA_VT: result.Ma_Vt,\r\n        SO_LUONG: result.So_Luong,\r\n        Ma_DvCs: this.strMa_DvCs,\r\n      };\r\n    } else {\r\n      paraList = {\r\n        MA_VT: qrCode,\r\n        SO_LUONG: \"\",\r\n        Ma_DvCs: this.strMa_DvCs,\r\n      };\r\n    }\r\n    const res = await this.orderService.GetVtByCode(paraList).finally();\r\n    if (res.length <= 0) {\r\n      await this._utilityService.showAlert(\r\n        `Không tìm thấy sản phẩm cho: ${qrCode}`\r\n      );\r\n    } else {\r\n      this.productModelSet(res[0]);\r\n      this.productScanner();\r\n    }\r\n  }\r\n\r\n  productModelSet(item: any) {\r\n    if (!item) return;\r\n    const idx = _.findIndex(this.model.detail, (o) => {\r\n      return o.ma_Vt == item.ma_Vt && o.is_HangTang == false;\r\n    });\r\n\r\n    if (idx > -1) {\r\n      this.model.detail[idx].is_HangTang = false;\r\n      this.model.detail[idx].so_Luong9 += 1;\r\n      this.model.detail[idx].gia_Nt9 = this.model.detail[idx].gia_Nt9\r\n        ? this.model.detail[idx].gia_Nt9\r\n        : 0;\r\n      this.model.detail[idx].tien_Nt9 = this.model.detail[idx].gia_Nt9\r\n        ? this.model.detail[idx].gia_Nt9 * this.model.detail[idx].so_Luong9\r\n        : 0;\r\n      this.modelChange.emit(this.model);\r\n    } else {\r\n      const obj = Object.assign({}, item, {\r\n        is_HangTang: false,\r\n        so_Luong9: 1,\r\n        tien_Nt9: item.gia_Nt9,\r\n        stt0: this.model.detail ? this.model.detail.length + 1 : 1,\r\n      });\r\n      this.model.detail.push(obj);\r\n      this.modelChange.emit(this.model);\r\n    }\r\n    this.voucherHelperService.sum_TTienHang(this.model);\r\n    this.voucherHelperService.updatePayments(this.model);\r\n  }\r\n\r\n  async edit(item: any) {\r\n    const obj = Object.assign({}, item, {\r\n      ngay_Ct: this.model.header.ngay_Ct,\r\n    });\r\n\r\n    const modal = await this.modalController.create({\r\n      component: ProductsFormDetailComponent,\r\n      componentProps: {\r\n        itemProduct: obj,\r\n        strMaCt: this.strMaCt,\r\n        enuEdit: this.enuEdit,\r\n        strMa_Ct_Convert: this.strMa_Ct_Convert,\r\n      },\r\n    });\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned !== null) {\r\n        const data = dataReturned.data;\r\n        if (data) {\r\n          const idx = _.findIndex(this.model.detail, (o) => {\r\n            return o.stt0 == data.stt0;\r\n          });\r\n          this.model.detail[idx] = data;\r\n          this.voucherHelperService.sum_TTienHang(this.model);\r\n          this.voucherHelperService.updatePayments(this.model);\r\n          this.modelChange.emit(this.model);\r\n        }\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  removeProduct(item: any) {\r\n    const idx = _.findIndex(this.model.detail, (o) => {\r\n      return o.stt0 == item.stt0;\r\n    });\r\n    if (idx > -1) {\r\n      this.model.detail.splice(idx, 1);\r\n      this.modelChange.emit(this.model);\r\n    }\r\n    this.voucherHelperService.sum_TTienHang(this.model);\r\n    this.voucherHelperService.updatePayments(this.model);\r\n  }\r\n\r\n  public changeQty(item: any = {}, type: string = \"\") {\r\n    if (item.so_Luong9 < 1) {\r\n      item.so_Luong9 = 1;\r\n      return;\r\n    }\r\n    switch (type) {\r\n      case \"previous\":\r\n        item.so_Luong9 = item.so_Luong9 - 1;\r\n        break;\r\n      case \"next\":\r\n        item.so_Luong9 = item.so_Luong9 + 1;\r\n        break;\r\n    }\r\n    this.calcTien(item);\r\n  }\r\n\r\n  async updateQty(item: any) {\r\n    const alert = await this.alertController.create({\r\n      header: \"Cập nhật số lượng\",\r\n      subHeader: item.ten_Vt,\r\n      inputs: [\r\n        {\r\n          name: \"quantity\",\r\n          type: \"number\",\r\n          min: 1,\r\n          //max: product.product.sl_Ton,\r\n          value: item.so_Luong9,\r\n          placeholder: \"Nhập số lượng\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Hủy\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: () => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Đồng ý\",\r\n          handler: (dataAlert) => {\r\n            const qty =\r\n              !isNaN(dataAlert.quantity) && _.toNumber(dataAlert.quantity) > 0\r\n                ? _.toNumber(dataAlert.quantity)\r\n                : 1;\r\n            item.so_Luong9 = qty;\r\n            this.calcTien(item);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present().then(() => {\r\n      const firstInput: any = document.querySelector(\"ion-alert input\");\r\n      firstInput?.focus();\r\n      return;\r\n    });\r\n  }\r\n\r\n  async updatePrice(item: any) {\r\n    const alert = await this.alertController.create({\r\n      header: \"Cập nhật giá bán\",\r\n      subHeader: item.ten_Vt,\r\n      inputs: [\r\n        {\r\n          name: \"price\",\r\n          type: \"number\",\r\n          min: 100,\r\n          //max: product.product.sl_Ton,\r\n          value: item.gia_Nt9,\r\n          placeholder: \"Nhập giá bán\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Hủy\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: () => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Đồng ý\",\r\n          handler: (dataAlert) => {\r\n            const qty =\r\n              !isNaN(dataAlert.price) && _.toNumber(dataAlert.price) > 0\r\n                ? _.toNumber(dataAlert.price)\r\n                : 1;\r\n            item.gia_Nt9 = qty;\r\n            this.calcTien(item);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present().then(() => {\r\n      const firstInput: any = document.querySelector(\"ion-alert input\");\r\n      firstInput?.focus();\r\n      return;\r\n    });\r\n  }\r\n\r\n  calcTien(item: any) {\r\n    item.tien_Nt9 = item.gia_Nt9 * item.so_Luong9;\r\n    \r\n    this.voucherHelperService.sum_TTienHang(this.model);\r\n    this.voucherHelperService.updatePayments(this.model);\r\n    this.modelChange.emit(this.model);\r\n  }\r\n\r\n  clickHangTang(item: any) {\r\n    item.gia_Nt9 = item.is_HangTang ? 0 : item.gia_Nt9;\r\n    this.calcTien(item);\r\n  }\r\n\r\n}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { SharedModule } from \"../../shared.module\";\r\nimport { BaseModule } from \"../../base/base.module\";\r\n\r\nimport { StepProductsFormComponent } from \"./step-products-form.component\";\r\nimport { StepInfoFormComponent } from \"./step-info-form.component\";\r\nimport { ProductsFormDetailComponent } from \"./products-form-detail.component\";\r\nimport { ProductComponent } from \"../../products/product.component\";\r\nimport { ProductFilterModalComponent } from \"./product-filter-modal.component\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductFilterModalComponent,\r\n    ProductsFormDetailComponent,\r\n    StepProductsFormComponent,\r\n    StepInfoFormComponent,\r\n    //ProductComponent\r\n  ],\r\n  imports: [SharedModule, BaseModule],\r\n  exports: [\r\n    ProductFilterModalComponent,\r\n    ProductsFormDetailComponent,\r\n    StepProductsFormComponent,\r\n    StepInfoFormComponent,\r\n    // ProductComponent\r\n  ],\r\n})\r\nexport class ViewModule {}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button [fill]=\\\"'clear'\\\" [routerLink]=\\\"['/components/order/list', strMaCt]\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">{{ strTitle }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content [fullscreen]=\\\"true\\\" color=\\\"light\\\" class=\\\"p-8\\\">\\r\\n  <ion-grid>\\r\\n    <mat-horizontal-stepper labelPosition=\\\"bottom\\\" [linear]=\\\"linner\\\" #stepper>\\r\\n      <!-- (click)=\\\"selectStepByIndex(myStepper.selectedIndex)\\\" -->\\r\\n      <mat-step [stepControl]=\\\"fdInfo.control\\\">\\r\\n        <ng-template matStepLabel>Thông tin chung</ng-template>\\r\\n        <form role=\\\"form\\\" #fdInfo=\\\"ngForm\\\">\\r\\n          <app-voucher-step-info-form [(model)]=\\\"model\\\"></app-voucher-step-info-form>\\r\\n\\r\\n        </form>\\r\\n      </mat-step>\\r\\n\\r\\n      <mat-step>\\r\\n        <ng-template matStepLabel>Sản phẩm</ng-template>\\r\\n        <app-voucher-step-products-form [(model)]=\\\"model\\\"></app-voucher-step-products-form>\\r\\n      </mat-step>\\r\\n\\r\\n      <mat-step [stepControl]=\\\"fdInfo.control\\\">\\r\\n        <ng-template matStepLabel>Thanh toán</ng-template>\\r\\n        <div class=\\\"payment\\\">\\r\\n          <div *ngIf=\\\"model.detail.length > 0\\\">\\r\\n            <div size=\\\"12\\\">\\r\\n\\r\\n              <ion-item>\\r\\n                <ion-label class=\\\"ion-no-margin\\\">\\r\\n                  <ion-text class=\\\"ion-text-left\\\">Tiền hàng</ion-text>\\r\\n                  <ion-text class=\\\"ion-float-right\\\" text-bold>{{model.header.tTien_Hang | number}}<sup>&nbsp;đ</sup>\\r\\n                  </ion-text>\\r\\n                </ion-label>\\r\\n              </ion-item>\\r\\n\\r\\n              <ion-item lines=\\\"none\\\" class=\\\"mt-10\\\">\\r\\n                <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 40%;\\\">\\r\\n                  <mat-label>Chiết khấu</mat-label>\\r\\n                  <input matInput type=\\\"tel\\\" [(ngModel)]=\\\"model.header.chiet_Khau\\\"\\r\\n                    (ngModelChange)=\\\"chiet_Khau_Change($event)\\\" currencyMask [options]=\\\"currencyMask\\\">\\r\\n                  <button mat-button *ngIf=\\\"model.header.chiet_Khau && model.header.chiet_Khau > 0\\\" matPrefix\\r\\n                    mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"model.header.chiet_Khau = 0\\\">\\r\\n                    <mat-icon class=\\\"asp-color-medium\\\">close</mat-icon>\\r\\n                  </button>\\r\\n                  <span matSuffix class=\\\"cus-topsuffix\\\">&nbsp;%</span>\\r\\n                </mat-form-field>\\r\\n\\r\\n                <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 60%;\\\">\\r\\n                  <mat-label>Tổng tiền chiết khấu</mat-label>\\r\\n                  <input matInput currencyMask type=\\\"tel\\\" [(ngModel)]=\\\"model.header.tTien4\\\"\\r\\n                    (ngModelChange)=\\\"ttien4_Change()\\\" [options]=\\\"currencyMask\\\" placeholder=\\\"Nhập tiền\\\">\\r\\n                  <button mat-button *ngIf=\\\"model.header.tTien4 && model.header.tTien4 > 0\\\" matPrefix mat-icon-button\\r\\n                    aria-label=\\\"Clear\\\" (click)=\\\"model.header.tTien4 = 0\\\">\\r\\n                    <mat-icon class=\\\"asp-color-medium\\\">close</mat-icon>\\r\\n                  </button>\\r\\n                  <span matSuffix class=\\\"cus-topsuffix\\\">&nbsp;đ</span>\\r\\n                </mat-form-field>\\r\\n              </ion-item>\\r\\n\\r\\n              <ion-item lines=\\\"none\\\" class=\\\"mt-10\\\">\\r\\n                <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 40%;\\\">\\r\\n                  <mat-label>Mã thuế</mat-label>\\r\\n                  <mat-select name=\\\"ma_Thue\\\" [(ngModel)]=\\\"model.header.ma_Thue\\\" (selectionChange)=\\\"ma_Thue_Change()\\\">\\r\\n                    <mat-option *ngFor=\\\"let op of listMa_Thue\\\" [value]=\\\"op.ma_Thue\\\">\\r\\n                    </mat-option>\\r\\n                  </mat-select>\\r\\n                </mat-form-field>\\r\\n\\r\\n                <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 60%;\\\">\\r\\n                  <mat-label>Tổng tiền thuế</mat-label>\\r\\n                  <input matInput currencyMask type=\\\"tel\\\" [(ngModel)]=\\\"model.header.tTien3\\\" readonly\\r\\n                    [options]=\\\"currencyMask\\\">\\r\\n                  <!-- <button mat-button *ngIf=\\\"model.header.tTien3 && model.header.tTien3 > 0\\\" matPrefix mat-icon-button\\r\\n                    aria-label=\\\"Clear\\\" (click)=\\\"model.header.tTien3 = 0\\\">\\r\\n                    <mat-icon class=\\\"asp-color-medium\\\">close</mat-icon>\\r\\n                  </button> -->\\r\\n                  <span matSuffix class=\\\"cus-topsuffix\\\">&nbsp;đ</span>\\r\\n                </mat-form-field>\\r\\n              </ion-item>\\r\\n\\r\\n\\r\\n              <!-- <ion-item lines=\\\"none\\\">\\r\\n                <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100\\\">\\r\\n                  <mat-label>Tiền phụ phí</mat-label>\\r\\n                  <input matInput currencyMask type=\\\"tel\\\" [(ngModel)]=\\\"model.header.tTien_PhuPhi\\\"\\r\\n                    (change)=\\\"updatePayments()\\\" [options]=\\\"currencyMask\\\" placeholder=\\\"Nhập tiền phụ phí\\\">\\r\\n                  <button mat-button *ngIf=\\\"model.header.tTien_PhuPhi && model.header.tTien_PhuPhi > 0\\\" matPrefix\\r\\n                    mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"model.header.tTien_PhuPhi = 0\\\">\\r\\n                    <mat-icon class=\\\"asp-color-medium\\\">close</mat-icon>\\r\\n                  </button>\\r\\n                  <span matSuffix class=\\\"cus-topsuffix\\\">&nbsp;đ</span>\\r\\n                </mat-form-field>\\r\\n              </ion-item> -->\\r\\n\\r\\n              <ion-item>\\r\\n                <ion-label class=\\\"ion-no-margin\\\">\\r\\n                  <ion-text class=\\\"ion-text-left\\\">Tiền thanh toán</ion-text>\\r\\n                  <ion-text class=\\\"ion-float-right\\\" text-bold color=\\\"danger\\\">\\r\\n                    {{model.header.tTien_ThanhToan | number}}<sup>&nbsp;đ</sup>\\r\\n                  </ion-text>\\r\\n                </ion-label>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-step>\\r\\n\\r\\n    </mat-horizontal-stepper>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer color=\\\"bgcolor\\\" class=\\\"bg-footer ion-no-border\\\">\\r\\n\\r\\n  <div *ngIf=\\\"myStepper && myStepper.selectedIndex == 0\\\">\\r\\n\\r\\n    <ion-item color=\\\"bgcolor\\\" class=\\\"ion-text-center pt-8 pb-8\\\" lines=\\\"none\\\">\\r\\n      <ion-label class=\\\"ion-no-padding ion-text-center ion-no-margin\\\">\\r\\n        <ion-button color=\\\"asp\\\" size=\\\"default\\\" (click)=\\\"resetInfo()\\\" [disabled]=\\\"fdInfo.invalid\\\">\\r\\n          Nhập lại\\r\\n        </ion-button>\\r\\n        <ion-button color=\\\"asp\\\" size=\\\"default\\\" (click)=\\\"stepperClicked(stepper)\\\" [disabled]=\\\"fdInfo.invalid\\\">\\r\\n          Tiếp theo\\r\\n        </ion-button>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"myStepper && myStepper.selectedIndex == 1\\\">\\r\\n    <ion-list *ngIf=\\\"model.detail.length > 0\\\" color=\\\"bgcolor\\\" class=\\\"bg-footer\\\" lines=\\\"none\\\" class=\\\"ion-no-margin\\\">\\r\\n      <ion-item color=\\\"bgcolor\\\" lines=\\\"none\\\" class=\\\"ion-no-margin\\\">\\r\\n        <ion-label class=\\\"ion-no-padding ion-no-margin\\\" slot=\\\"start\\\">Tổng tiền hàng</ion-label>\\r\\n        <ion-note style=\\\"font-size: inherit;\\\" slot=\\\"end\\\" color=\\\"dart\\\" text-bold>{{model.header.tTien_Hang |\\r\\n          number}}<sup>&nbsp;đ</sup></ion-note>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item color=\\\"bgcolor\\\" class=\\\"ion-text-center pt-8 pb-8\\\" lines=\\\"none\\\">\\r\\n        <ion-label class=\\\"ion-no-padding ion-text-center ion-no-margin\\\">\\r\\n          <ion-button color=\\\"asp\\\" expand=\\\"block\\\" size=\\\"default\\\" [disabled]=\\\"model.detail.length ==0\\\"\\r\\n            (click)=\\\"stepperClicked(stepper)\\\">\\r\\n            Tiếp theo\\r\\n          </ion-button>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"myStepper && myStepper.selectedIndex == 2\\\">\\r\\n    <ion-item color=\\\"bgcolor\\\" class=\\\"ion-text-center pt-8 pb-8\\\" lines=\\\"none\\\">\\r\\n      <ion-label class=\\\"ion-no-padding ion-text-center ion-no-margin\\\">\\r\\n        <ion-button (click)=\\\"onSubmit()\\\" expand=\\\"block\\\" size=\\\"default\\\" color=\\\"asp\\\"\\r\\n          [disabled]=\\\" fdInfo.invalid ||  !model.detail || model.detail.length == 0 ||submitting || FormCheckValid()\\\">\\r\\n          <span>Lưu</span>\\r\\n          <ion-spinner slot=\\\"start\\\" size=\\\"default\\\" *ngIf=\\\"submitting\\\"></ion-spinner>\\r\\n          <ion-icon name=\\\"checkmark-done-sharp\\\" slot=\\\"start\\\" size=\\\"default\\\" *ngIf=\\\"!submitting\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n  </div>\\r\\n</ion-footer>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button [fill]=\\\"'clear'\\\" [routerLink]=\\\"['../../../list',strMaCt]\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n\\r\\n      \\r\\n    </ion-buttons>\\r\\n    \\r\\n    <ion-title class=\\\"ion-text-center\\\">Chi tiết</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" fill=\\\"clear\\\">\\r\\n      <ion-button *ngIf=\\\"perm?.allow_Edit\\\" (click)=\\\"edit('edit')\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\"  size=\\\"large\\\" name=\\\"pencil-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen color=\\\"light\\\" class=\\\"ion-padding\\\">\\r\\n\\r\\n  <ng-container *ngIf=\\\"!loading;else skeletonTmpl\\\">\\r\\n    <ion-row class=\\\"info-top mt-20\\\">\\r\\n      <span class=\\\"icon-top\\\">\\r\\n\\r\\n        <ion-icon *ngIf=\\\"info.header?.is_App;else desktopIcon\\\" [color]=\\\"info.header?.duyet? 'success':'danger'\\\"\\r\\n          class=\\\"icon\\\" name=\\\"phone-portrait-outline\\\" size=\\\"large\\\">\\r\\n        </ion-icon>\\r\\n        <ng-template #desktopIcon>\\r\\n          <ion-icon name=\\\"desktop-outline\\\" [color]=\\\"info.header.duyet? 'success':'danger'\\\" size=\\\"large\\\" class=\\\"icon\\\">\\r\\n          </ion-icon>\\r\\n        </ng-template>\\r\\n      </span>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center mt-20\\\">\\r\\n        <ion-text>\\r\\n          <p class=\\\"title info-top-text\\\">{{info.header.ma_Dt}} </p>\\r\\n        </ion-text>\\r\\n        <ion-text>\\r\\n          <p class=\\\"title info-top-text\\\">{{info.header.ten_Dt}} </p>\\r\\n        </ion-text>\\r\\n        <ion-text>\\r\\n          <p class=\\\"info-top-text\\\" [ngClass]=\\\"{'success': info.header.duyet, 'danger': !info.header.duyet}\\\">\\r\\n            {{info.header.duyet?'Đã duyệt':'Chưa duyệt'}}</p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-list lines=\\\"none\\\" class=\\\"info-detail ion-margin-bottom\\\">\\r\\n      <ion-item>\\r\\n        <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-text text-left class=\\\"title\\\">Số chứng từ</ion-text>\\r\\n        </ion-label>\\r\\n        <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n          <ion-text>{{info.header.so_Ct}} - {{info.header.ngay_Ct | formatDate}} </ion-text>\\r\\n        </ion-note>\\r\\n      </ion-item>\\r\\n\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Số điện thoại</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.so_Phone}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Email</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.email}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Địa chỉ</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.dia_Chi}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Diễn giải</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.dien_Giai}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n\\r\\n      \\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Tiền hàng</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.tTien_Hang | number}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Tiền chiết khấu</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.tTien4 | number}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Tiền thuế</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.tTien3 | number}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container>\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"title\\\">Tổng tiền</ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin ion-text-end ion-text-wrap content\\\">\\r\\n            <ion-text>{{info.header.tTien_ThanhToan | number}}</ion-text>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ng-container>\\r\\n\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-list class=\\\"info-detail ion-margin-bottom product\\\">\\r\\n\\r\\n      <ion-list-header>\\r\\n        <ion-label>\\r\\n          <p>Sản phẩm</p>\\r\\n        </ion-label>\\r\\n\\r\\n        <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin\\\" color=\\\"danger\\\" mode=\\\"ios\\\">\\r\\n          <ion-text class=\\\"ml-10\\\" color=\\\"danger\\\">{{info.header.tSo_Luong | number}}</ion-text>\\r\\n        </ion-note>\\r\\n      </ion-list-header>\\r\\n\\r\\n      <ion-item class=\\\"ion-no-margin\\\" *ngFor=\\\"let item of info.detail; let last = last;\\\"\\r\\n        [attr.lines]=\\\"!last?'full':'none'\\\">\\r\\n\\r\\n        <ion-label class=\\\"no-margin-horizontal ion-no-padding\\\">\\r\\n          <h3>\\r\\n            {{item.ten_Vt}}\\r\\n          </h3>\\r\\n          <p class=\\\"asp-color-medium\\\">\\r\\n            {{item.ma_Vt? \\\"Mã vật tư: \\\"+item.ma_Vt:\\\"\\\"}}\\r\\n          </p>\\r\\n          <p class=\\\"asp-color-medium\\\">\\r\\n            <mat-slide-toggle color=\\\"asp\\\" disabled [checked]=\\\"item.is_HangTang\\\" >Hàng tặng</mat-slide-toggle>\\r\\n          </p>\\r\\n          <p class=\\\"asp-color\\\" *ngIf=\\\"!item.is_HangTang\\\">\\r\\n            <span class=\\\"mr-10\\\">\\r\\n              {{item.gia_Nt9 | number}}<sup>đ</sup>\\r\\n            </span>\\r\\n            <span>x{{item.so_Luong9}}</span>\\r\\n          </p>\\r\\n        </ion-label>\\r\\n\\r\\n        <ion-note slot=\\\"end\\\" class=\\\"ion-no-margin\\\" color=\\\"danger\\\" mode=\\\"ios\\\">\\r\\n          <span *ngIf=\\\"!item.is_HangTang\\\">{{(item.gia_Nt9 * item.so_Luong9) | number}}<sup>đ</sup></span>\\r\\n        </ion-note>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #skeletonTmpl>\\r\\n    <ion-row class=\\\"info-top mt-20\\\">\\r\\n      <span class=\\\"icon-top\\\">\\r\\n        <ion-skeleton-text animated></ion-skeleton-text>\\r\\n      </span>\\r\\n      <ion-col size=\\\"12\\\" text-center class=\\\"mt-20\\\">\\r\\n        <ion-text color=\\\"medium\\\">\\r\\n          <p class=\\\"title info-top-text\\\">\\r\\n            <ion-skeleton-text animated style=\\\"width: 50%;margin: auto;\\\"></ion-skeleton-text>\\r\\n          </p>\\r\\n        </ion-text>\\r\\n        <h4 class=\\\"total info-top-text\\\">\\r\\n          <ion-skeleton-text animated style=\\\"width: 50%;margin: auto;\\\"></ion-skeleton-text>\\r\\n        </h4>\\r\\n        <ion-text>\\r\\n          <ion-skeleton-text animated style=\\\"width: 50%;margin: auto;\\\"></ion-skeleton-text>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-list lines=\\\"none\\\" class=\\\"info-detail ion-margin-bottom\\\">\\r\\n      <ion-item>\\r\\n        <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-list class=\\\"info-detail product\\\">\\r\\n\\r\\n      <ion-list-header text-uppercase>\\r\\n        Sản phẩm\\r\\n      </ion-list-header>\\r\\n\\r\\n      <ion-item no-margin>\\r\\n        <ion-label no-margin-horizontal text-wrap no-padding>\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item no-margin>\\r\\n        <ion-label no-margin-horizontal text-wrap no-padding>\\r\\n          <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n    </ion-list>\\r\\n  </ng-template>\\r\\n\\r\\n</ion-content>\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button [fill]=\\\"'clear'\\\" routerLink=\\\"/tabs/home\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">{{ title[strMaCt] }}</ion-title>\\r\\n    <!-- <ion-buttons slot=\\\"end\\\" fill=\\\"clear\\\">\\r\\n      <ion-button (click)=\\\"openModalFilter()\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"filter-sharp\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons> -->\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"loadMoreData($event, true)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button *ngIf=\\\"perm?.allow_New\\\" (click)=\\\"edit({}, 78)\\\" color=\\\"asp\\\">\\r\\n      <ion-icon name=\\\"add\\\" size=\\\"large\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <ion-row>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <mat-form-field appearance=\\\"fill\\\" class=\\\"w-100\\\">\\r\\n        <mat-label>Lọc theo ngày</mat-label>\\r\\n        <mat-date-range-input [max]=\\\"today\\\" [rangePicker]=\\\"picker\\\" (click)=\\\"picker.open()\\\">\\r\\n          <input matStartDate [(ngModel)]=\\\"filterModel.ngay_Ct1\\\" disabled placeholder=\\\"Ngày bắt đầu\\\"\\r\\n            (focus)=\\\"picker.open()\\\" />\\r\\n          <input matEndDate [(ngModel)]=\\\"filterModel.ngay_Ct2\\\" (dateChange)=\\\"dateChange()\\\" disabled\\r\\n            placeholder=\\\"Ngày kết thúc\\\" (focus)=\\\"picker.open()\\\" />\\r\\n        </mat-date-range-input>\\r\\n        <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\" [disabled]=\\\"loading\\\"></mat-datepicker-toggle>\\r\\n        <mat-date-range-picker touchUi #picker [disabled]=\\\"loading\\\"></mat-date-range-picker>\\r\\n      </mat-form-field>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label>Trạng thái</ion-label>\\r\\n    <ion-select (ionChange)=\\\"getList()\\\" [(ngModel)]=\\\"selectTrang_Thai\\\" [interfaceOptions]=\\\"selectTrang_Thai\\\"\\r\\n      interface=\\\"action-sheet\\\" placeholder=\\\"Chọn trạng thái\\\">\\r\\n      <ion-select-option value=\\\"0\\\">Chưa duyệt</ion-select-option>\\r\\n      <ion-select-option value=\\\"1\\\">Đã duyệt</ion-select-option>\\r\\n      <ion-select-option value=\\\"\\\">Tất cả</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <app-asp-search [(aspModel)]=\\\"searchTerm\\\" (aspModelChange)=\\\"getList()\\\"></app-asp-search>\\r\\n  <ion-grid>\\r\\n    <ng-container *ngIf=\\\"!loading; else elseTemplate\\\">\\r\\n      <ion-list>\\r\\n        <ion-list-header>\\r\\n          <ion-label>\\r\\n            <p>\\r\\n              Tổng:&nbsp;<span style=\\\"font-size: 14px\\\" text-bold>{{\\r\\n                totalCount | number\\r\\n                }}</span>\\r\\n            </p>\\r\\n          </ion-label>\\r\\n        </ion-list-header>\\r\\n        <!-- -->\\r\\n        <!-- <ion-item *ngFor=\\\"let item of data\\\" [routerLink]=\\\"['../../detail', item.stt, strMaCt]\\\" detail=\\\"false\\\">  (click)=\\\"view_edit(item.stt)\\\" -->\\r\\n        <ion-item *ngFor=\\\"let item of data; trackBy: trackBy\\\" detail=\\\"false\\\">\\r\\n          <ion-label (click)=\\\"view_edit(item)\\\">\\r\\n            <h3 class=\\\"date\\\">\\r\\n              {{ item.ten_Dt }}\\r\\n            </h3>\\r\\n            <p>\\r\\n              <span>{{ item.dien_Giai }}</span>\\r\\n            </p>\\r\\n            <p>\\r\\n              <span>{{ item.dia_Chi }}</span>\\r\\n            </p>\\r\\n            <p>\\r\\n              <span class=\\\"date\\\">{{ item.ngay_Ct | formatDate }} - {{ item.so_Ct }}</span>\\r\\n            </p>\\r\\n          </ion-label>\\r\\n          <ion-button fill=\\\"clear\\\" [matMenuTriggerFor]=\\\"menu\\\" slot=\\\"start\\\" color=\\\"medium\\\">\\r\\n            <ion-icon slot=\\\"start\\\" *ngIf=\\\"item.is_App; else desktopIcon\\\" name=\\\"phone-portrait-outline\\\"\\r\\n              [color]=\\\"item.is_HoanThanh ? 'asp' : 'danger'\\\">\\r\\n            </ion-icon>\\r\\n            <ng-template #desktopIcon>\\r\\n              <ion-icon slot=\\\"start\\\" name=\\\"desktop-outline\\\" [color]=\\\"\\r\\n                  item.ten_TrangThai == 'Đã duyệt' ? 'secondary' : 'danger'\\r\\n                \\\"></ion-icon>\\r\\n            </ng-template>\\r\\n          </ion-button>\\r\\n\\r\\n          <mat-menu #menu=\\\"matMenu\\\">\\r\\n            <button mat-menu-item *ngIf=\\\"perm?.allow_View\\\" (click)=\\\"view_edit(item)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">preview</i>\\r\\n              <span>Xem phiếu</span>\\r\\n            </button>\\r\\n            <button mat-menu-item *ngIf=\\\"perm?.allow_Edit\\\" (click)=\\\"edit(item, 69)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">create</i>\\r\\n              <span>Sửa phiếu</span>\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"exportPDF(item)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">picture_as_pdf</i>\\r\\n              <span>Xem file PDF</span>\\r\\n            </button>\\r\\n            \\r\\n            <button *ngIf=\\\"!item.duyet && perm_duyet?.allow_Access\\\" mat-menu-item (click)=\\\"confirm(item, true)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">check_circle</i>\\r\\n              <span>Duyệt</span>\\r\\n            </button>\\r\\n            <button *ngIf=\\\"item.duyet && perm_duyet?.allow_Access\\\" mat-menu-item (click)=\\\"confirm(item, false)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">block</i>\\r\\n              <span>Bỏ duyệt</span>\\r\\n            </button>\\r\\n\\r\\n            <button mat-menu-item *ngIf=\\\"perm?.allow_Delete\\\" (click)=\\\"delete(item)\\\">\\r\\n              <i [ngClass]=\\\"platformStr =='ios' && isNativePlatform?'material-icons-outlined':'material-icons'\\\"\\r\\n              class=\\\"icon\\\">delete</i>\\r\\n              <span>Xoá</span>\\r\\n            </button>\\r\\n            \\r\\n          </mat-menu>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-template #elseTemplate>\\r\\n      <asp-skeleton></asp-skeleton>\\r\\n    </ng-template>\\r\\n  </ion-grid>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\" fill=\\\"clear\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\" size=\\\"large\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <!-- <ion-searchbar #searchBar [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"filterProducts()\\\" (ionClear)=\\\"products=[]\\\"\\r\\n      cancelButtonIcon=\\\"\\\" debounce=\\\"500\\\" showCancelButton=\\\"never\\\" placeholder=\\\"Tên, sdt, mã, đơn hàng...\\\">\\r\\n    </ion-searchbar> -->\\r\\n    <app-asp-search [(aspModel)]=\\\"searchTerm\\\" (aspModelChange)=\\\"filterProducts()\\\"\\r\\n      placeholder=\\\"Tìm kiếm sản phẩm...\\\" [autofocus]=\\\"true\\\">\\r\\n    </app-asp-search>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ng-container *ngIf=\\\"!loading;else loadingTmpl\\\">\\r\\n    <ion-list class=\\\"mt-10\\\">\\r\\n      <ion-item *ngFor=\\\"let item of products\\\" (click)=\\\"onChangeRadio(item)\\\" [detail]=\\\"false\\\" [button]=\\\"true\\\">\\r\\n        <ion-label class=\\\"ion-text-wrap\\\">\\r\\n          <h3>{{item.ten_Vt}}</h3>\\r\\n          <p class=\\\"asp-color-medium\\\">{{item.ma_Vt}}</p>\\r\\n        </ion-label>\\r\\n        <!-- <ion-radio [value]=\\\"item.ma_Vt\\\" color=\\\"asp\\\" slot=\\\"start\\\" (ionFocus)=\\\"onChangeRadio(item)\\\"></ion-radio> -->\\r\\n        <ion-note slot=\\\"end\\\" color=\\\"asp\\\" class=\\\"mr-0\\\" style=\\\"font-size:11pt\\\">\\r\\n          <span class=\\\"asp-color-medium\\\">{{item.dvt}}</span>\\r\\n        </ion-note>\\r\\n      </ion-item>\\r\\n      <!-- <ion-radio-group [(ngModel)]=\\\"radioModel\\\">\\r\\n        <ion-item *ngFor=\\\"let item of products\\\">\\r\\n          <ion-label class=\\\"ion-text-wrap\\\">\\r\\n            <h3>{{item.ten_Vt}}</h3>\\r\\n            <p class=\\\"asp-color-medium\\\">{{item.ma_Vt}}</p>\\r\\n            <p class=\\\"asp-color-medium\\\">{{item.ten_Nh_Vt}}</p>\\r\\n          </ion-label>\\r\\n          <ion-radio [value]=\\\"item.ma_Vt\\\" color=\\\"asp\\\" slot=\\\"start\\\" (ionFocus)=\\\"onChangeRadio(item)\\\"></ion-radio>\\r\\n          <ion-note slot=\\\"end\\\" color=\\\"asp\\\" class=\\\"mr-0\\\" style=\\\"font-size:11pt\\\">\\r\\n            <span class=\\\"asp-color\\\">{{item.gia_Goc || 0 | number}}<sup>đ</sup></span>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ion-radio-group> -->\\r\\n    </ion-list>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #loadingTmpl>\\r\\n    <asp-skeleton></asp-skeleton>\\r\\n  </ng-template>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\" fill=\\\"clear\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\" size=\\\"large\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Chỉnh sửa vật tư</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" color=\\\"light\\\" class=\\\"p-8\\\">\\r\\n  <ion-grid>\\r\\n    <form role=\\\"form\\\" #fdInfo=\\\"ngForm\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <mat-form-field appearance=\\\"fill\\\">\\r\\n            <mat-label>Vật tư</mat-label>\\r\\n            <input\\r\\n              readonly=\\\"true\\\"\\r\\n              matInput\\r\\n              name=\\\"ma_Vt\\\"\\r\\n              autocomplete=\\\"off\\\"\\r\\n              [(ngModel)]=\\\"model.ma_Vt\\\"\\r\\n            />\\r\\n            <mat-hint align=\\\"end\\\">{{ model?.ten_Vt }}</mat-hint>\\r\\n          </mat-form-field>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <mat-form-field appearance=\\\"fill\\\">\\r\\n            <mat-label>Mã lô</mat-label>\\r\\n            <mat-select \\r\\n              name=\\\"ma_Lo\\\"\\r\\n              [(ngModel)]=\\\"model.ma_Lo\\\">\\r\\n              <mat-option *ngFor=\\\"let op of listMa_Lo\\\" [value]=\\\"op.ma_Lo\\\">\\r\\n                {{ op.ma_Lo }}\\r\\n              </mat-option>\\r\\n            </mat-select>\\r\\n\\r\\n          </mat-form-field>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <mat-form-field appearance=\\\"fill\\\">\\r\\n            <mat-label>Hạn sử dụng</mat-label>\\r\\n            <input\\r\\n              matInput\\r\\n              name=\\\"han_Sd\\\"\\r\\n              [(ngModel)]=\\\"model.han_Sd\\\"\\r\\n              required\\r\\n              [matDatepicker]=\\\"picker\\\"\\r\\n              (focus)=\\\"picker.open()\\\"\\r\\n            />\\r\\n            <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n            <mat-datepicker #picker touchUi color=\\\"primary\\\"></mat-datepicker>\\r\\n          </mat-form-field>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <mat-form-field appearance=\\\"fill\\\">\\r\\n            <mat-label>Mã sản phẩm</mat-label>\\r\\n            <mat-select\\r\\n              name=\\\"ma_Sp\\\"\\r\\n              [(ngModel)]=\\\"model.ma_Sp\\\">\\r\\n              <mat-option *ngFor=\\\"let op of listMa_Sp\\\" [value]=\\\"op.ma_Sp\\\">\\r\\n                {{ op.ma_Sp }}\\r\\n              </mat-option>\\r\\n            </mat-select>\\r\\n          </mat-form-field>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <mat-form-field appearance=\\\"fill\\\">\\r\\n            <mat-label>Số lượng</mat-label>\\r\\n            <input\\r\\n              matInput\\r\\n              type=\\\"number\\\"\\r\\n              name=\\\"so_Luong9\\\"\\r\\n              autocomplete=\\\"off\\\"\\r\\n              [(ngModel)]=\\\"model.so_Luong9\\\"\\r\\n            />\\r\\n            <button\\r\\n              style=\\\"font-size: 18px\\\"\\r\\n              *ngIf=\\\"model.so_Luong9\\\"\\r\\n              mat-icon-button\\r\\n              matSuffix\\r\\n            >\\r\\n              <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n          </mat-form-field>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </form>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer color=\\\"bgcolor\\\" class=\\\"bg-footer ion-no-border\\\">\\r\\n  <ion-item color=\\\"bgcolor\\\" class=\\\"ion-text-center pt-8 pb-8\\\" lines=\\\"none\\\">\\r\\n    <ion-label class=\\\"ion-no-padding ion-text-center ion-no-margin\\\">\\r\\n      <ion-button\\r\\n        (click)=\\\"closeModal()\\\"\\r\\n        expand=\\\"block\\\"\\r\\n        size=\\\"default\\\"\\r\\n        color=\\\"asp\\\"\\r\\n      >\\r\\n        <span>Hoàn tất</span>\\r\\n        <ion-icon\\r\\n          name=\\\"checkmark-done-sharp\\\"\\r\\n          slot=\\\"start\\\"\\r\\n          size=\\\"default\\\"\\r\\n        ></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n</ion-footer>\\r\\n\";","export default \"<ion-row>\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <ion-searchbar class=\\\"m-0 p-0\\\" showCancelButton=\\\"never\\\" (ionFocus)=\\\"openFilterCustomersModal()\\\"\\r\\n      placeholder=\\\"Tìm kiếm khách hàng...\\\">\\r\\n    </ion-searchbar>\\r\\n  </ion-col>\\r\\n  <!-- <ion-col size=\\\"2\\\">\\r\\n    <ion-button (click)=\\\"productScanner()\\\" fill=\\\"clear\\\" class=\\\"ion-no-margin mt-8 p-0 btn-scan\\\" color=\\\"medium\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" size=\\\"large\\\" name=\\\"scan-sharp\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n  </ion-col> -->\\r\\n</ion-row>\\r\\n\\r\\n<ion-row>\\r\\n\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Tên khách hàng</mat-label>\\r\\n      <input matInput name=\\\"ten_Dt\\\" [(ngModel)]=\\\"model.header.ten_Dt\\\" autofocus=\\\"on\\\" required readonly>\\r\\n      <button type=\\\"button\\\" class=\\\"asp-color-medium\\\" *ngIf=\\\"model.header.ten_Dt\\\" mat-icon-button matSuffix\\r\\n        (click)=\\\"model.header.ten_Dt=''\\\" aria-label=\\\"Xóa\\\" aria-pressed=\\\"true\\\">\\r\\n        <mat-icon>clear</mat-icon>\\r\\n      </button>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Số điện thoại</mat-label>\\r\\n      <input type=\\\"tel\\\" matInput name=\\\"so_Phone\\\" [(ngModel)]=\\\"model.header.so_Phone\\\" readonly>\\r\\n      <button type=\\\"button\\\" class=\\\"asp-color-medium\\\" *ngIf=\\\"model.header.so_Phone\\\" mat-icon-button matSuffix\\r\\n        (click)=\\\"model.header.so_Phone=''\\\" aria-label=\\\"Xóa\\\" aria-pressed=\\\"true\\\">\\r\\n        <mat-icon>clear</mat-icon>\\r\\n      </button>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Email</mat-label>\\r\\n      <input matInput name=\\\"email\\\" [(ngModel)]=\\\"model.header.email\\\"  autocomplete=\\\"false\\\"\\r\\n      pattern=\\\"[a-zA-Z0-9!#$%&'*+\\\\/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"asp-color-medium\\\" *ngIf=\\\"model.header.email\\\" mat-icon-button matSuffix\\r\\n        (click)=\\\"model.header.email=''\\\" aria-label=\\\"Xóa\\\" aria-pressed=\\\"true\\\">\\r\\n        <mat-icon>clear</mat-icon>\\r\\n      </button>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Địa chỉ</mat-label>\\r\\n      <input matInput name=\\\"dia_Chi\\\" [(ngModel)]=\\\"model.header.dia_Chi\\\" >\\r\\n\\r\\n      <button type=\\\"button\\\" class=\\\"asp-color-medium\\\" *ngIf=\\\"model.header.dia_Chi\\\" mat-icon-button matSuffix\\r\\n        (click)=\\\"model.header.dia_Chi=''\\\" aria-label=\\\"Xóa\\\" aria-pressed=\\\"true\\\">\\r\\n        <mat-icon>clear</mat-icon>\\r\\n      </button>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  \\r\\n  <!-- <ion-col size=\\\"7\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Ngày sinh</mat-label>\\r\\n      <input matInput name=\\\"ngay_Sinh\\\" [max]=\\\"today\\\" [(ngModel)]=\\\"model.header.ngay_Sinh\\\" [matDatepicker]=\\\"picker\\\"\\r\\n        (focus)=\\\"picker.open()\\\" />\\r\\n      <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n      <mat-datepicker #picker touchUi color=\\\"primary\\\"></mat-datepicker>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"5\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Giới tính</mat-label>\\r\\n      <mat-select name=\\\"gioi_Tinh\\\" [(ngModel)]=\\\"model.header.gioi_Tinh\\\">\\r\\n        <mat-option value=\\\"\\\">Không xác định</mat-option>\\r\\n        <mat-option value=\\\"Nam\\\">Nam</mat-option>\\r\\n        <mat-option value=\\\"Nu\\\">Nữ</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </ion-col> -->\\r\\n\\r\\n  <ion-col size=\\\"6\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Mã nhân viên</mat-label>\\r\\n      <mat-select name=\\\"ma_cbnv\\\" [(ngModel)]=\\\"model.header.ma_CbNv\\\">\\r\\n        <mat-option *ngFor=\\\"let op of listEmployees\\\" [value]=\\\"op.ma_CbNv\\\">\\r\\n          {{ op.ten_CbNv }}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"6\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Mã bộ phận</mat-label>\\r\\n      <mat-select name=\\\"ma_Bp\\\" [(ngModel)]=\\\"model.header.ma_Bp\\\">\\r\\n        <mat-option *ngFor=\\\"let op of listDepartment\\\" [value]=\\\"op.ma_Bp\\\">\\r\\n          {{ op.ten_Bp }}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n\\r\\n  <ion-col size=\\\"12\\\">\\r\\n    <mat-form-field appearance=\\\"fill\\\">\\r\\n      <mat-label>Diễn Giải</mat-label>\\r\\n      <textarea matInput name=\\\"dien_Giai\\\" rows=\\\"3\\\" [(ngModel)]=\\\"model.header.dien_Giai\\\"></textarea>\\r\\n    </mat-form-field>\\r\\n  </ion-col>\\r\\n</ion-row>\";","export default \"<ion-row>\\r\\n  <ion-col size=\\\"10\\\">\\r\\n    <ion-searchbar class=\\\"m-0 p-0\\\" [ngModelOptions]=\\\"{standalone: true}\\\" showCancelButton=\\\"never\\\"\\r\\n      (ionFocus)=\\\"openFilterProductsModal()\\\" [(ngModel)]=\\\"searchTerm\\\" placeholder=\\\"Tìm kiếm và chọn sản phẩm...\\\">\\r\\n    </ion-searchbar>\\r\\n  </ion-col>\\r\\n  <ion-col size=\\\"2\\\">\\r\\n    <ion-button (click)=\\\"productScanner()\\\" fill=\\\"clear\\\" class=\\\"ion-no-margin mt-8 p-0 btn-scan\\\" color=\\\"medium\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" size=\\\"large\\\" name=\\\"scan-sharp\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n\\r\\n<ng-container>\\r\\n  <ion-row>\\r\\n    <ion-col>\\r\\n      <ion-list>\\r\\n        <ng-container *ngFor=\\\"let item of this.model?.detail;let last = last;\\\">\\r\\n          <ion-item class=\\\"ion-no-padding\\\">\\r\\n            <ion-label>\\r\\n              <h2>{{item.ten_Vt}}</h2>\\r\\n              <p class=\\\"asp-color-medium\\\"> {{\\\"Mã vật tư: \\\"+ item.ma_Vt}}</p>\\r\\n              <p class=\\\"pos_fixed\\\">\\r\\n                <span>\\r\\n                  <ion-button size=\\\"small\\\" style=\\\"width: 100px;\\\" fill=\\\"outline\\\" slot=\\\"start\\\" color=\\\"asp\\\"\\r\\n                    [disabled]=\\\"item.is_HangTang\\\" (click)=\\\"updatePrice(item)\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n                    {{item.gia_Nt9 | number}}\\r\\n                  </ion-button>\\r\\n                </span>\\r\\n\\r\\n                <span class=\\\"quantity ion-text-center ion-padding-horizontal\\\">\\r\\n                  <ion-button class=\\\"ion-no-margin ion-no-padding\\\" fill=\\\"clear\\\" slot=\\\"start\\\"\\r\\n                    [disabled]=\\\"item.is_HangTang\\\" (click)=\\\"changeQty(item,'previous')\\\" color=\\\"medium\\\">\\r\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"remove\\\" size=\\\"small\\\"></ion-icon>\\r\\n                  </ion-button>\\r\\n\\r\\n                  <ion-button size=\\\"small\\\" style=\\\"width: 50px;\\\" fill=\\\"outline\\\" slot=\\\"start\\\" color=\\\"asp\\\"\\r\\n                    (click)=\\\"updateQty(item)\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n                    {{item.so_Luong9 | number}}\\r\\n                  </ion-button>\\r\\n\\r\\n                  <ion-button fill=\\\"clear\\\" (click)=\\\"changeQty(item,'next')\\\" color=\\\"medium\\\" [disabled]=\\\"item.is_HangTang\\\"\\r\\n                    class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\" size=\\\"small\\\"></ion-icon>\\r\\n                  </ion-button>\\r\\n                </span>\\r\\n\\r\\n                <span text-bold>=&nbsp;{{(item.tien_Nt9) | number}} <sup>đ</sup></span>\\r\\n              </p>\\r\\n              <p class=\\\"asp-color-medium mt-5\\\">\\r\\n                <mat-slide-toggle color=\\\"asp\\\" [ngModelOptions]=\\\"{standalone:true}\\\" [(ngModel)]=\\\"item.is_HangTang\\\"\\r\\n                  (change)=\\\"clickHangTang(item)\\\">Hàng tặng</mat-slide-toggle>\\r\\n              </p>\\r\\n\\r\\n            </ion-label>\\r\\n\\r\\n            <ion-button fill=\\\"clear\\\" [matMenuTriggerFor]=\\\"menu\\\" class=\\\"ion-no-margin ion-no-padding\\\" slot=\\\"end\\\"\\r\\n              color=\\\"medium\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"ellipsis-vertical-sharp\\\" size=\\\"default\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n            <mat-menu #menu=\\\"matMenu\\\">\\r\\n              <!-- <button mat-menu-item (click)=\\\"edit(item)\\\">\\r\\n                <mat-icon>flip_to_front</mat-icon>\\r\\n                <span>Sửa</span>\\r\\n              </button> -->\\r\\n              <button mat-menu-item (click)=\\\"removeProduct(item)\\\">\\r\\n                <mat-icon>delete</mat-icon>\\r\\n                <span>Xóa</span>\\r\\n              </button>\\r\\n            </mat-menu>\\r\\n          </ion-item>\\r\\n        </ng-container>\\r\\n      </ion-list>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ng-container>\";"],"names":[],"sourceRoot":"webpack:///"}