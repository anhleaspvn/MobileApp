{"version":3,"file":"default-src_app_components_base_base_module_ts.js","mappings":"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","sources":["./src/app/components/base/base.module.ts","./src/app/components/base/customer-filter-modal.component.ts","./src/app/components/base/product-filter-modal.component.ts","./src/app/components/base/customer-filter-modal.component.html","./src/app/components/base/product-filter-modal.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../shared.module';\r\n\r\nimport { ProductFilterModalComponent } from './product-filter-modal.component';\r\nimport { CustomerFilterModalComponent } from './customer-filter-modal.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductFilterModalComponent,\r\n    CustomerFilterModalComponent\r\n  ],\r\n  imports: [\r\n    SharedModule\r\n  ],\r\n  exports: [\r\n    ProductFilterModalComponent,\r\n    CustomerFilterModalComponent\r\n  ]\r\n})\r\nexport class BaseModule { }\r\n","import { Component, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CommandType } from 'src/app/helpers';\r\nimport { ApiParameter } from 'src/app/shared/api-params';\r\nimport { SQLExecService } from 'src/app/shared/services';\r\n\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-customer-filter-modal',\r\n  templateUrl: './customer-filter-modal.component.html',\r\n  styleUrls: ['./customer-filter-modal.component.scss'],\r\n})\r\nexport class CustomerFilterModalComponent implements OnInit {\r\n\r\n  customers: any[];\r\n  searchTerm: string;\r\n  top: number = 100;\r\n\r\n  radioModel: string;\r\n  model: any;\r\n  apiParams: ApiParameter = new ApiParameter();\r\n\r\n  listModal: any;\r\n\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private sqlService: SQLExecService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.filter();\r\n  }\r\n\r\n  async filter() {\r\n    this.loading = true;\r\n\r\n    this.apiParams.strSQLExec = \"sp_API_GetListCustomers\";\r\n    this.apiParams.paraList = {\r\n      KEYWORD: this.searchTerm,\r\n      TOP: this.top\r\n    };\r\n\r\n    this.apiParams.cmdType = CommandType.StoredProcedure;\r\n    const res = await this.sqlService.ExecuteReturnDt(this.apiParams).finally(() => this.loading = false);\r\n    this.customers = res;\r\n  }\r\n\r\n  async onSelectedItem(item) {\r\n    await this.modalController.dismiss(item)\r\n  }\r\n\r\n  // async onChangeRadio(item) {\r\n  //   if (item) {\r\n  //     item.stt0 = new Date().valueOf().toString();\r\n  //   }\r\n  //   if (item) {\r\n  //     await this.modalController.dismiss(item)\r\n  //   } else await this.modalController.dismiss(null);\r\n  // }\r\n\r\n  async closeModal(ok: boolean = false) {\r\n    await this.modalController.dismiss(null);\r\n  }\r\n\r\n  loadMoreData(event) {\r\n    setTimeout(async () => {\r\n      this.top = this.top + 10;\r\n      await this.filter();\r\n      event.target.complete();\r\n      const _total = (this.customers && this.customers.length > 0) ? this.customers[0].totalCount : 0;\r\n      event.target.disabled = (this.top >= _total);\r\n    }, 50);\r\n  }\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CommandType } from 'src/app/helpers';\r\nimport { ApiParameter } from 'src/app/shared/api-params';\r\nimport { SQLExecService } from 'src/app/shared/services';\r\n\r\n@Component({\r\n  selector: 'app-product-filter-modal',\r\n  templateUrl: './product-filter-modal.component.html',\r\n  styleUrls: ['./product-filter-modal.component.scss'],\r\n})\r\nexport class ProductFilterModalComponent implements OnInit {\r\n\r\n  @Input() loai_vt?: string='';\r\n  products: any[];\r\n  searchTerm: string;\r\n  top: number = 100;\r\n\r\n  radioModel: string;\r\n  model: any;\r\n  apiParams: ApiParameter = new ApiParameter();\r\n\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private sqlService: SQLExecService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.filterProducts();\r\n   }\r\n\r\n  async filterProducts() {\r\n    this.loading = true;\r\n    this.apiParams.strSQLExec = \"sp_API_GetDsSanPham\";\r\n    this.apiParams.paraList = {\r\n      KEYWORD: this.searchTerm,\r\n      TOP: this.top,\r\n      LOAI_VT: this.loai_vt\r\n    };\r\n\r\n    this.apiParams.cmdType = CommandType.StoredProcedure;\r\n    const res = await this.sqlService.ExecuteReturnDt(this.apiParams).finally(() => this.loading = false);\r\n    this.products = res;\r\n  }\r\n\r\n  async onChangeRadio(item) {\r\n    if (item) {\r\n      item.stt0 = new Date().valueOf().toString();\r\n    }\r\n    if (item) {\r\n      await this.modalController.dismiss(item)\r\n    } else await this.modalController.dismiss(null);\r\n  }\r\n\r\n  async closeModal(ok: boolean = false) {\r\n\r\n    await this.modalController.dismiss(null);\r\n  }\r\n\r\n  loadMoreData(event) {\r\n    setTimeout(async () => {\r\n      this.top = this.top + 10;\r\n      await this.filterProducts();\r\n      event.target.complete();\r\n      const _total = (this.products && this.products.length > 0) ? this.products[0].totalCount : 0;\r\n      event.target.disabled = (this.top >= _total);\r\n    }, 50);\r\n  }\r\n\r\n}\r\n","export default \"<ion-header color=\\\"asp\\\">\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\" fill=\\\"clear\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\" size=\\\"large\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <!-- <ion-searchbar #searchTermControl=\\\"ngModel\\\" [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"filter()\\\" [ngModelOptions]=\\\"{standalone: true}\\\" cancelButtonIcon=\\\"\\\" debounce=\\\"500\\\"\\r\\n      showCancelButton=\\\"never\\\" placeholder=\\\"Tìm kiếm khách hàng...\\\">\\r\\n    </ion-searchbar> -->\\r\\n    <app-asp-search [(aspModel)]=\\\"searchTerm\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (aspModelChange)=\\\"filter()\\\"\\r\\n      placeholder=\\\"Tìm kiếm khách hàng...\\\" [autofocus]=\\\"true\\\">\\r\\n    </app-asp-search>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ng-container *ngIf=\\\"!loading;else loadingTmpl\\\">\\r\\n    <ion-list>\\r\\n      <ion-radio-group>\\r\\n        <ion-item *ngFor=\\\"let item of customers\\\" detail=\\\"false\\\" button=\\\"true\\\" (click)=\\\"onSelectedItem(item)\\\">\\r\\n          <!-- <ion-radio slot=\\\"start\\\" color=\\\"asp\\\" (ionFocus)=\\\"onChangeRadio(item.ma_Dt)\\\" [value]=\\\"item.ma_Dt\\\">\\r\\n          </ion-radio> -->\\r\\n          <ion-label>\\r\\n            <h2>{{item.ten_Dt}}&nbsp;({{item.ma_Dt}})</h2>\\r\\n            <p>{{item.ten_Nh_Dt}}</p>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-radio-group>\\r\\n    </ion-list>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #loadingTmpl>\\r\\n    <asp-skeleton></asp-skeleton>\\r\\n  </ng-template>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\" fill=\\\"clear\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\" size=\\\"large\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <!-- <ion-searchbar #searchBar [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"filterProducts()\\\" (ionClear)=\\\"products=[]\\\"\\r\\n      cancelButtonIcon=\\\"\\\" debounce=\\\"500\\\" showCancelButton=\\\"never\\\" placeholder=\\\"Tên, sdt, mã, đơn hàng...\\\">\\r\\n    </ion-searchbar> -->\\r\\n    <app-asp-search [(aspModel)]=\\\"searchTerm\\\" (aspModelChange)=\\\"filterProducts()\\\"\\r\\n      placeholder=\\\"Tìm kiếm sản phẩm...\\\" [autofocus]=\\\"true\\\">\\r\\n    </app-asp-search>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ng-container *ngIf=\\\"!loading;else loadingTmpl\\\">\\r\\n    <ion-list class=\\\"mt-10\\\">\\r\\n      <ion-item *ngFor=\\\"let item of products\\\" (click)=\\\"onChangeRadio(item)\\\" [detail]=\\\"false\\\" [button]=\\\"true\\\">\\r\\n        <ion-label class=\\\"ion-text-wrap\\\">\\r\\n          <h3>{{item.ten_Vt}}</h3>\\r\\n          <p class=\\\"asp-color-medium\\\">{{item.ma_Vt}}</p>\\r\\n        </ion-label>\\r\\n        <!-- <ion-radio [value]=\\\"item.ma_Vt\\\" color=\\\"asp\\\" slot=\\\"start\\\" (ionFocus)=\\\"onChangeRadio(item)\\\"></ion-radio> -->\\r\\n        <ion-note slot=\\\"end\\\" color=\\\"asp\\\" class=\\\"mr-0\\\" style=\\\"font-size:11pt\\\">\\r\\n          <span class=\\\"asp-color-medium\\\">{{item.ton_Cuoi}}</span>\\r\\n        </ion-note>\\r\\n      </ion-item>\\r\\n      <!-- <ion-radio-group [(ngModel)]=\\\"radioModel\\\">\\r\\n        <ion-item *ngFor=\\\"let item of products\\\">\\r\\n          <ion-label class=\\\"ion-text-wrap\\\">\\r\\n            <h3>{{item.ten_Vt}}</h3>\\r\\n            <p class=\\\"asp-color-medium\\\">{{item.ma_Vt}}</p>\\r\\n            <p class=\\\"asp-color-medium\\\">{{item.ten_Nh_Vt}}</p>\\r\\n          </ion-label>\\r\\n          <ion-radio [value]=\\\"item.ma_Vt\\\" color=\\\"asp\\\" slot=\\\"start\\\" (ionFocus)=\\\"onChangeRadio(item)\\\"></ion-radio>\\r\\n          <ion-note slot=\\\"end\\\" color=\\\"asp\\\" class=\\\"mr-0\\\" style=\\\"font-size:11pt\\\">\\r\\n            <span class=\\\"asp-color\\\">{{item.gia_Goc || 0 | number}}<sup>đ</sup></span>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ion-radio-group> -->\\r\\n    </ion-list>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #loadingTmpl>\\r\\n    <asp-skeleton></asp-skeleton>\\r\\n  </ng-template>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}