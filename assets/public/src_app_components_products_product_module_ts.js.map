{"version":3,"file":"src_app_components_products_product_module_ts.js","mappings":"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","sources":["./src/app/components/products/categories/category.module.ts","./src/app/components/products/categories/list.component.ts","./src/app/components/products/categories/product-detail.component.ts","./src/app/components/products/checking-info/checking.component.ts","./src/app/components/products/checking-info/checking.module.ts","./src/app/components/products/models/index.ts","./src/app/components/products/models/params.ts","./src/app/components/products/models/paramsqr.ts","./src/app/components/products/product.component.ts","./src/app/components/products/product.module.ts","./src/app/components/products/categories/list.component.html","./src/app/components/products/categories/product-detail.component.html","./src/app/components/products/checking-info/checking.component.html","./src/app/components/products/product.component.html"],"sourcesContent":["import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SharedModule } from '../../shared.module';\r\nimport { BaseModule } from '../../base/base.module';\r\n\r\nimport { ListComponent } from './list.component';\r\n// import { DetailComponent } from './detail.component';\r\nimport { RouterModule } from '@angular/router';\r\n// import { ViewModule as VourcherViewModdule } from '../../vouchers/views/view.module'\r\n// import { ViewModule } from '../../vouchers/views/view.module'\r\nimport { ProductComponent } from '../product.component';\r\nimport { ProductDetailComponent } from './product-detail.component';\r\n\r\nconst routing: ModuleWithProviders<CategoryModule> = RouterModule.forChild([\r\n  {\r\n    path: 'list',\r\n    component: ListComponent,\r\n  },\r\n  \r\n  // {\r\n  //   path: 'detail',\r\n  //   component: DetailComponent,\r\n  // },\r\n  // {\r\n  //   path: 'product-detail/:ma_Vt',\r\n  //   component: ProductDetailComponent,\r\n  // }\r\n]);\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    // VourcherViewModdule,\r\n    ListComponent,\r\n    // DetailComponent,\r\n    ProductDetailComponent\r\n  ],\r\n  imports: [\r\n    // VourcherViewModdule,\r\n    // ViewModule,\r\n    SharedModule,\r\n    BaseModule,\r\n    routing\r\n  ]\r\n})\r\nexport class CategoryModule { }\r\n","import { Component, Inject, OnInit, Optional } from '@angular/core';\r\nimport { UtilityService } from '../../../shared/utility.service';\r\n\r\nimport { IdentityService, SQLExecService, VoucherService } from '../../../shared/services';\r\nimport { ApiParameter } from 'src/app/shared/api-params';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Params } from '../models';\r\nimport { WarehousesService } from '../../warehouse/core';\r\nimport { ProductDetailComponent } from './product-detail.component';\r\nimport { DataModalReturned } from 'src/app/shared';\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss'],\r\n})\r\nexport class ListComponent implements OnInit {\r\n\r\n  strMaCt: string;\r\n  products: any[];\r\n  top: number = 20;\r\n  apiParams: ApiParameter = new ApiParameter();\r\n  totalCount: number = 0;\r\n  dteNgay_Ct1: any;\r\n  dteNgay_Ct2: any;\r\n  selectTrang_Thai: string = \"\";\r\n  skeletons: any = [];\r\n  loading: boolean = true;\r\n  data: any[];\r\n  searchTerm: string = '';\r\n  today: any = new Date();\r\n  Param: Params = new Params();\r\n\r\n  constructor(\r\n    private sqlService: SQLExecService,\r\n    private voucherService: VoucherService,\r\n    private alertController: AlertController,\r\n    private modalController: ModalController,\r\n    private IdentityService: IdentityService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private _utilityService: UtilityService,\r\n    private warehouserService : WarehousesService,\r\n  ) {\r\n    this.strMaCt = this.route.snapshot.params.maCt;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    setTimeout(() => {\r\n      this.getListVatTu();\r\n    }, 5);\r\n  }\r\n\r\n  loadMoreData(event, refresh: boolean = false) {\r\n    setTimeout(async () => {\r\n      this.top = this.top + 5;\r\n      await this.getListVatTu(refresh);\r\n      event.target.complete();\r\n      if (!refresh)\r\n        event.target.disabled = (this.top >= this.totalCount);\r\n      \r\n    }, 10);\r\n  }\r\n\r\n  async getListVatTu(isLoading: boolean = true) {\r\n    this.loading = isLoading;\r\n\r\n    this.Param = {\r\n      top: this.top,\r\n      keyword: this.searchTerm, \r\n    };\r\n    const res = await this.warehouserService.getDmVt(this.Param).finally(() => this.loading = false) ;\r\n\r\n    if (res.length <= 0) {\r\n      await this._utilityService.showAlert(\"không tìm thấy cho sản phẩm\");\r\n    }\r\n    else {\r\n      this.products = res;\r\n      this.totalCount = res[0].totalCount;\r\n    }\r\n  }\r\n\r\n  async goToDetail(item: any) {\r\n\r\n    // if (!item) return;\r\n    // this.router.navigateByUrl('components/product/product-detail/' + item.ma_Vt);\r\n    const modal = await this.modalController.create({\r\n      component: ProductDetailComponent,\r\n      componentProps: {\r\n        product: item\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n    });\r\n    return await modal.present();\r\n  }\r\n  openModalFilter() {\r\n\r\n  }\r\n\r\n  trackBy(index: number, item: any) {\r\n    return item?.stt ?? index;\r\n  }\r\n}\r\n\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-product-detail',\r\n  templateUrl: './product-detail.component.html',\r\n  styleUrls: ['./product-detail.component.scss'],\r\n})\r\nexport class ProductDetailComponent implements OnInit {\r\n\r\n  @Input() product: any={};\r\n  showSkeleton: boolean = true;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n  ) {\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async closeModal(ok: boolean = false) {\r\n    await this.modalController.dismiss(ok);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { UtilityService } from '../../../shared/utility.service';\r\n\r\nimport * as _ from 'lodash';\r\n\r\nimport { BarcodeScanner, BarcodeScannerOptions, BarcodeScanResult } from '@awesome-cordova-plugins/barcode-scanner/ngx';\r\n\r\nimport { WarehousesService } from '../../warehouse/core';\r\nimport { ParamsQR } from '../models/paramsqr';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-checking',\r\n  templateUrl: './checking.component.html',\r\n  styleUrls: ['./checking.component.scss'],\r\n})\r\nexport class CheckingComponent implements OnInit {\r\n\r\n  submitting: boolean = false;\r\n  model: any;\r\n  // qrCode = '{\"Ma_Vt\": \"LQCH202C8453\",\"Ma_Lo\": \"02062021\", \"Han_Sd\": \"31/12/2021\",\"Ngay_Sx\": \"31/12/2021\", \"Ma_Kho\": \"TP\", \"So_Luong\": \"100\"}';\r\n  qrCode!: string;\r\n  param: ParamsQR = new ParamsQR();\r\n\r\n  barcodeScannerOptions: BarcodeScannerOptions;\r\n\r\n  constructor(\r\n    private _utilityService: UtilityService,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private warehouseService: WarehousesService\r\n  ) {\r\n    this.barcodeScannerOptions = {\r\n      prompt: '',\r\n      showTorchButton: false,\r\n      showFlipCameraButton: false,\r\n      //torchOn: true,\r\n      resultDisplayDuration: 1\r\n    };\r\n  }\r\n\r\n\r\n  ngOnInit() { }\r\n\r\n  async startScan() {\r\n    this.barcodeScanner.scan(this.barcodeScannerOptions)\r\n      .then((data: BarcodeScanResult) => {\r\n        if (data.cancelled) {\r\n          console.log(\"User cancelled the action!\");\r\n          return false;\r\n        } else if (data && data.text != '') this.getProductByQRCode(data.text);\r\n\r\n      }).catch((err) => { this._utilityService.showToast(JSON.stringify(err)) });\r\n  }\r\n\r\n  private async getProductByQRCode(qrCode: string) {\r\n    if (qrCode.includes('{')) {\r\n      let result = JSON.parse(qrCode);\r\n      this.param = {\r\n        MA_VT: result.Ma_Vt,\r\n        MA_LO: result.Ma_Lo,\r\n        HAN_SD: moment(result.Han_Sd,'DD/MM/YYYY').format('YYYY-MM-DD'),\r\n        NGAY_SX: moment(result.Ngay_Sx,'DD/MM/YYYY').format('YYYY-MM-DD'),\r\n        MA_KHO: result.Ma_Kho,\r\n        SO_LUONG: result.So_Luong\r\n      }\r\n    }\r\n    else {\r\n      this.param = {\r\n        MA_VT: qrCode,\r\n        MA_LO: '',\r\n        HAN_SD: '',\r\n        NGAY_SX: '',\r\n        MA_KHO: '',\r\n        SO_LUONG: 0\r\n      };\r\n    }\r\n    const res = await this.warehouseService.GetVtByCode(this.param).finally();\r\n    if (res?.length <= 0) {\r\n      await this._utilityService.showAlert(`Không tìm thấy sản phẩm cho: ${qrCode}`);\r\n    } else {\r\n      this.model = res[0];\r\n    }\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { SharedModule } from '../../shared.module';\r\nimport { BaseModule } from '../../base/base.module';\r\nimport { CheckingComponent } from './checking.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nconst routing: ModuleWithProviders<CheckingModule> = RouterModule.forChild([\r\n  {\r\n    path: 'checking',\r\n    component: CheckingComponent,\r\n  }\r\n]);\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CheckingComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    BaseModule,\r\n    routing\r\n  ]\r\n})\r\nexport class CheckingModule { }\r\n","export * from './params';","export class Params {\r\n    top?: number = 50;\r\n    keyword?: string = '';\r\n    ma_Vt?: string = '';\r\n}","import * as moment from \"moment\";\r\n\r\nexport class ParamsQR {\r\n    MA_VT?: string = '';\r\n    MA_LO?: string ='';\r\n    $HAN_SD?: any;\r\n    $NGAY_SX?: any;\r\n    MA_KHO?: string = '';\r\n    SO_LUONG?: number = 0;\r\n\r\n    get HAN_SD() {\r\n        return this.$HAN_SD ? this.$HAN_SD : '';\r\n    }\r\n    get NGAY_SX() { \r\n        return this.$NGAY_SX ? this.$NGAY_SX : '';\r\n        // moment(new Date(this.$NGAY_SX).toISOString()).format('YYYY-MM-DD')\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { NavItem } from 'src/app/helpers/nav-items';\r\n\r\n@Component({\r\n  selector: 'app-product',\r\n  templateUrl: './product.component.html',\r\n  styleUrls: ['./product.component.scss'],\r\n})\r\nexport class ProductComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  navs: NavItem[] = [\r\n    { id: 'list', title: 'Quản lý sản phẩm', routerLink: '../product/list', icon: { name: 'list', color: 'asp' } },\r\n    { id: 'checking_info', title: 'Kiểm tra thông tin', routerLink: '../product/checking', icon: { name: 'qr-code', color: 'secondary' } },\r\n  ];\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../shared.module';\r\nimport { CheckingModule } from './checking-info/checking.module';\r\nimport { CategoryModule } from './categories/category.module';\r\n\r\nimport { ProductComponent  } from './product.component';\r\n\r\nconst routing: ModuleWithProviders<ProductModule> = RouterModule.forChild([\r\n  { path: '', component: ProductComponent, pathMatch: 'full' }\r\n]);\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    CheckingModule,\r\n    CategoryModule,\r\n    routing\r\n  ]\r\n})\r\nexport class ProductModule { }\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <!-- <ion-back-button defaultHref=\\\"/components/products/list\\\" text=\\\"\\\"></ion-back-button> -->\\r\\n      <ion-button [fill]=\\\"'clear'\\\" [routerLink]=\\\"['/components/product']\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>Quản lý sản phẩm</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen>\\r\\n  <app-asp-search [(aspModel)]=\\\"searchTerm\\\" (aspModelChange)=\\\"getListVatTu()\\\" placeholder=\\\"Tìm sản phẩm\\\"></app-asp-search>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ng-container *ngIf=\\\"!loading; else elseTemplate\\\">\\r\\n      <ion-list-header>\\r\\n        <ion-label>\\r\\n          <p>Tổng:&nbsp;<span style=\\\"font-size: 14px;\\\" text-bold>{{totalCount | number}}</span></p>\\r\\n        </ion-label>\\r\\n      </ion-list-header>\\r\\n      \\r\\n      <ion-list class=\\\"info-detail\\\">\\r\\n        <ion-item no-margin-vertical *ngFor=\\\"let item of products;trackBy:trackBy\\\" button=\\\"true\\\" detail=\\\"false\\\"\\r\\n          (click)=\\\"goToDetail(item)\\\">\\r\\n          <ion-avatar slot=\\\"start\\\" class=\\\"avatar\\\">\\r\\n            <img style=\\\"width: 100%;height: 100%;\\\" [src]=\\\"item?.hinh | displayAvatar\\\" title=\\\"{{item.ten_Vt}}\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label no-margin no-padding>\\r\\n            <h3 class=\\\"ion-text-wrap\\\">{{item.ten_Vt}} &nbsp; \\r\\n              <span class=\\\"asp-color-medium\\\"> ({{item.ma_Vt}})</span> </h3>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\"> {{item.ton_Cuoi}} </ion-note>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-template #elseTemplate>\\r\\n      <asp-skeleton></asp-skeleton>\\r\\n    </ng-template>\\r\\n\\r\\n  </ion-grid>\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button [fill]=\\\"'clear'\\\" (click)=\\\"closeModal()\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"close-outline\\\" md=\\\"close-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Chi tiết sản phẩm</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen color=\\\"light\\\" class=\\\"ion-padding\\\">\\r\\n\\r\\n  <ion-item lines=\\\"none\\\" class=\\\"info ion-margin-bottom\\\" >\\r\\n    <ion-avatar slot=\\\"start\\\" class=\\\"avatar\\\">\\r\\n      <img style=\\\"width: 100%;height: 100%;\\\" [src]=\\\"product?.hinh | displayAvatar\\\" title=\\\"{{product.ten_Vt}}\\\">\\r\\n    </ion-avatar>\\r\\n    <ion-label class=\\\"ion-no-padding\\\">\\r\\n      <h4 class=\\\"ion-text-wrap ion-text-bold\\\">{{product.ten_Vt}}</h4>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-list lines=\\\"none\\\" class=\\\"products-detail ion-margin-top\\\">\\r\\n    <ion-item>\\r\\n      <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-text text-left class=\\\"asp-color-medium title\\\">Nhóm vật tư</ion-text>\\r\\n        <ion-text class=\\\"body ion-float-right\\\">({{product.ma_Nh_Vt}}) {{product.ten_Nh_Vt}}</ion-text>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-text class=\\\"asp-color-medium title ion-text-left\\\">Mã vật tư</ion-text>\\r\\n        <ion-text class=\\\"body ion-float-right\\\">{{product.ma_Vt}}</ion-text>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-text text-left class=\\\"asp-color-medium title\\\">Mã sản phẩm</ion-text>\\r\\n        <ion-text class=\\\"body ion-float-right\\\">{{product.ma_Sp}}</ion-text>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-text text-left class=\\\"asp-color-medium title\\\">Đơn vị tính</ion-text>\\r\\n        <ion-text class=\\\"body ion-float-right\\\">{{product.dvt}}</ion-text>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-text text-left class=\\\"asp-color-medium title\\\">Tồn cuối</ion-text>\\r\\n        <ion-text class=\\\"body ion-float-right\\\">{{product.ton_Cuoi}}</ion-text>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <!-- <ion-back-button defaultHref=\\\"/components/inventory/list\\\" text=\\\"\\\"></ion-back-button> -->\\r\\n      <ion-button [fill]=\\\"'clear'\\\" [routerLink]=\\\"['/components/product']\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Kiểm tra thông tin sản phẩm</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen color=\\\"light\\\" class=\\\"ion-padding\\\">\\r\\n    <div >\\r\\n      <ion-list *ngIf=\\\"model; else null \\\">\\r\\n        <ion-item lines=\\\"none\\\" class=\\\"info ion-margin-bottom\\\" >\\r\\n          <ion-avatar slot=\\\"start\\\" class=\\\"avatar\\\">\\r\\n            <img style=\\\"width: 100%;height: 100%;\\\" [src]=\\\"model.hinh | displayAvatar\\\"\\r\\n              title=\\\"{{model.ten_Vt}}\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label class=\\\"ion-no-padding\\\">\\r\\n            <h4 class=\\\"ion-text-wrap ion-text-bold\\\">{{model.ten_Vt}}</h4>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Mã vật tư</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ma_Vt}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n  \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Nhóm vật tư</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ma_Nh_Vt}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n  \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Tên nhóm vật tư</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ten_Nh_Vt}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n  \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Mã Lô</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ma_Lo}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n  \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Mã Kho</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ma_Kho}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Số lượng tồn</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.so_Luong | number}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Hạn sử dụng</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.han_Sd | formatDate }}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n        \\r\\n        <ion-item>\\r\\n          <ion-label class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n            <ion-text text-left class=\\\"asp-color-medium title\\\">Ngày sản xuất</ion-text>\\r\\n            <ion-text class=\\\"body ion-float-right\\\">{{model.ngay_Sx | formatDate}}</ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n  \\r\\n      </ion-list>\\r\\n    </div>\\r\\n    <!-- <ng-template #nodata>\\r\\n      <div class=\\\"hinhanh\\\">\\r\\n        <img src=\\\"/assets/images/nodata.png\\\" alt=\\\"logo\\\" >\\r\\n      </div>\\r\\n  </ng-template> -->\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer color=\\\"bgcolor\\\" class=\\\"bg-footer ion-no-border\\\">\\r\\n  <ion-item color=\\\"bgcolor\\\" class=\\\"ion-text-center pt-8 pb-8\\\" lines=\\\"none\\\">\\r\\n    <ion-label class=\\\"ion-no-padding ion-text-center ion-no-margin\\\">\\r\\n      <ion-button mat-icon-button class=\\\"scaner-button\\\"  aria-label=\\\"Product Scaner\\\" (click)=\\\"startScan()\\\" expand=\\\"block\\\" size=\\\"default\\\" color=\\\"asp\\\" [disabled]=\\\"submitting\\\">\\r\\n        <span>Scan Now</span>\\r\\n        <ion-spinner slot=\\\"start\\\" size=\\\"default\\\" *ngIf=\\\"submitting\\\"></ion-spinner>\\r\\n        <!-- <ion-icon name=\\\"checkmark-done-sharp\\\" slot=\\\"start\\\" size=\\\"default\\\" *ngIf=\\\"!submitting\\\"></ion-icon> -->\\r\\n      </ion-button>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n</ion-footer>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"asp\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <!-- <ion-back-button defaultHref=\\\"/tabs/home\\\" text=\\\"\\\"></ion-back-button> -->\\r\\n      <ion-button [fill]=\\\"'clear'\\\" routerLink=\\\"/tabs/home\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"chevron-back-outline\\\" md=\\\"arrow-back-outline\\\" size=\\\"default\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">\\r\\n      Quản lý sản phẩm\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-list class=\\\"mt-16\\\">\\r\\n    <ion-item *ngFor=\\\"let nav of navs\\\" [detail]=\\\"true\\\" [routerLink]=\\\"[nav.routerLink]\\\">\\r\\n      <ion-icon slot=\\\"start\\\" [ios]=\\\"nav.icon.name+'-outline'\\\" [md]=\\\"nav.icon.name+'-sharp'\\\" [color]=\\\"nav.icon.color\\\"></ion-icon>\\r\\n      <ion-label>{{nav.title}}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}